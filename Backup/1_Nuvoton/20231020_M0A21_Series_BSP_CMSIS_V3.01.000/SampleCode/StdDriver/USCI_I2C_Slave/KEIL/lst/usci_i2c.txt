; generated by Component: ARM Compiler 5.06 update 7 (build 960) Tool: ArmCC [4d365d]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\obj\usci_i2c.o --asm_dir=.\lst\ --list_dir=.\lst\ --depend=.\obj\usci_i2c.d --cpu=Cortex-M0 --apcs=interwork --diag_suppress=9931 -I..\..\..\..\Library\CMSIS\Include -I..\..\..\..\Library\Device\Nuvoton\M0A21\Include -I..\..\..\..\Library\StdDriver\inc -I.\RTE\_USCI_I2C_Slave -IC:\Users\cody_chen\AppData\Local\Arm\Packs\ARM\CMSIS\5.9.0\CMSIS\Core\Include -IC:\Users\cody_chen\AppData\Local\Arm\Packs\Nuvoton\NuMicro_DFP\1.3.21\Device\M0A21\Include -D__MICROLIB -D__UVISION_VERSION=538 -D_RTE_ -D_RTE_ --omf_browse=.\obj\usci_i2c.crf ..\..\..\..\Library\StdDriver\src\usci_i2c.c]
                          THUMB

                          AREA ||i.UI2C_ClearIntFlag||, CODE, READONLY, ALIGN=1

                  UI2C_ClearIntFlag PROC
;;;427     */
;;;428    void UI2C_ClearIntFlag(UI2C_T *ui2c , uint32_t u32Mask)
000000  07ca              LSLS     r2,r1,#31
;;;429    {
000002  d001              BEQ      |L1.8|
;;;430        /* Clear Time-out Interrupt Flag */
;;;431        if (u32Mask & UI2C_TO_INT_MASK)
;;;432        {
;;;433            ui2c->PROTSTS = UI2C_PROTSTS_TOIF_Msk;
000004  2220              MOVS     r2,#0x20
000006  6642              STR      r2,[r0,#0x64]
                  |L1.8|
;;;434        }
;;;435    
;;;436        /* Clear Start Condition Received Interrupt Flag */
;;;437        if (u32Mask & UI2C_STAR_INT_MASK)
000008  078a              LSLS     r2,r1,#30
00000a  d502              BPL      |L1.18|
;;;438        {
;;;439            ui2c->PROTSTS = UI2C_PROTSTS_STARIF_Msk;
00000c  22ff              MOVS     r2,#0xff
00000e  3201              ADDS     r2,#1
000010  6642              STR      r2,[r0,#0x64]
                  |L1.18|
;;;440        }
;;;441    
;;;442        /* Clear Stop Condition Received Interrupt Flag */
;;;443        if (u32Mask & UI2C_STOR_INT_MASK)
000012  074a              LSLS     r2,r1,#29
000014  d502              BPL      |L1.28|
;;;444        {
;;;445            ui2c->PROTSTS = UI2C_PROTSTS_STORIF_Msk;
000016  2201              MOVS     r2,#1
000018  0252              LSLS     r2,r2,#9
00001a  6642              STR      r2,[r0,#0x64]
                  |L1.28|
;;;446        }
;;;447    
;;;448        /* Clear Non-Acknowledge Interrupt Flag */
;;;449        if (u32Mask & UI2C_NACK_INT_MASK)
00001c  070a              LSLS     r2,r1,#28
00001e  d502              BPL      |L1.38|
;;;450        {
;;;451            ui2c->PROTSTS = UI2C_PROTSTS_NACKIF_Msk;
000020  2201              MOVS     r2,#1
000022  0292              LSLS     r2,r2,#10
000024  6642              STR      r2,[r0,#0x64]
                  |L1.38|
;;;452        }
;;;453    
;;;454        /* Clear Arbitration Lost Interrupt Flag */
;;;455        if (u32Mask & UI2C_ARBLO_INT_MASK)
000026  06ca              LSLS     r2,r1,#27
000028  d502              BPL      |L1.48|
;;;456        {
;;;457            ui2c->PROTSTS = UI2C_PROTSTS_ARBLOIF_Msk;
00002a  2201              MOVS     r2,#1
00002c  02d2              LSLS     r2,r2,#11
00002e  6642              STR      r2,[r0,#0x64]
                  |L1.48|
;;;458        }
;;;459    
;;;460        /* Clear Error Interrupt Flag */
;;;461        if (u32Mask & UI2C_ERR_INT_MASK)
000030  068a              LSLS     r2,r1,#26
000032  d502              BPL      |L1.58|
;;;462        {
;;;463            ui2c->PROTSTS = UI2C_PROTSTS_ERRIF_Msk;
000034  2201              MOVS     r2,#1
000036  0312              LSLS     r2,r2,#12
000038  6642              STR      r2,[r0,#0x64]
                  |L1.58|
;;;464        }
;;;465    
;;;466        /* Clear Acknowledge Interrupt Flag */
;;;467        if (u32Mask & UI2C_ACK_INT_MASK)
00003a  0649              LSLS     r1,r1,#25
00003c  d502              BPL      |L1.68|
;;;468        {
;;;469            ui2c->PROTSTS = UI2C_PROTSTS_ACKIF_Msk;
00003e  2101              MOVS     r1,#1
000040  0349              LSLS     r1,r1,#13
000042  6641              STR      r1,[r0,#0x64]
                  |L1.68|
;;;470        }
;;;471    }
000044  4770              BX       lr
;;;472    
                          ENDP


                          AREA ||i.UI2C_ClearTimeoutFlag||, CODE, READONLY, ALIGN=1

                  UI2C_ClearTimeoutFlag PROC
;;;93      */
;;;94     void UI2C_ClearTimeoutFlag(UI2C_T *ui2c)
000000  2120              MOVS     r1,#0x20
;;;95     {
;;;96         ui2c->PROTSTS = UI2C_PROTSTS_TOIF_Msk;
000002  6641              STR      r1,[r0,#0x64]
;;;97     }
000004  4770              BX       lr
;;;98     
                          ENDP


                          AREA ||i.UI2C_Close||, CODE, READONLY, ALIGN=1

                  UI2C_Close PROC
;;;78      */
;;;79     void UI2C_Close(UI2C_T *ui2c)
000000  6801              LDR      r1,[r0,#0]
;;;80     {
;;;81         /* Disable USCI_I2C function */
;;;82         ui2c->CTL &= ~UI2C_CTL_FUNMODE_Msk;
000002  08c9              LSRS     r1,r1,#3
000004  00c9              LSLS     r1,r1,#3
000006  6001              STR      r1,[r0,#0]
;;;83     }
000008  4770              BX       lr
;;;84     
                          ENDP


                          AREA ||i.UI2C_DisableInt||, CODE, READONLY, ALIGN=1

                  UI2C_DisableInt PROC
;;;158     */
;;;159    void UI2C_DisableInt(UI2C_T *ui2c, uint32_t u32Mask)
000000  07ca              LSLS     r2,r1,#31
;;;160    {
000002  d003              BEQ      |L4.12|
;;;161        /* Disable time-out interrupt flag */
;;;162        if ((u32Mask & UI2C_TO_INT_MASK) == UI2C_TO_INT_MASK)
;;;163        {
;;;164            ui2c->PROTIEN &= ~UI2C_PROTIEN_TOIEN_Msk;
000004  6e02              LDR      r2,[r0,#0x60]
000006  0852              LSRS     r2,r2,#1
000008  0052              LSLS     r2,r2,#1
00000a  6602              STR      r2,[r0,#0x60]
                  |L4.12|
;;;165        }
;;;166    
;;;167        /* Disable start condition received interrupt flag */
;;;168        if ((u32Mask & UI2C_STAR_INT_MASK) == UI2C_STAR_INT_MASK)
00000c  078a              LSLS     r2,r1,#30
00000e  d503              BPL      |L4.24|
;;;169        {
;;;170            ui2c->PROTIEN &= ~UI2C_PROTIEN_STARIEN_Msk;
000010  6e02              LDR      r2,[r0,#0x60]
000012  2302              MOVS     r3,#2
000014  439a              BICS     r2,r2,r3
000016  6602              STR      r2,[r0,#0x60]
                  |L4.24|
;;;171        }
;;;172    
;;;173        /* Disable stop condition received interrupt flag */
;;;174        if ((u32Mask & UI2C_STOR_INT_MASK) == UI2C_STOR_INT_MASK)
000018  074a              LSLS     r2,r1,#29
00001a  d503              BPL      |L4.36|
;;;175        {
;;;176            ui2c->PROTIEN &= ~UI2C_PROTIEN_STORIEN_Msk;
00001c  6e02              LDR      r2,[r0,#0x60]
00001e  2304              MOVS     r3,#4
000020  439a              BICS     r2,r2,r3
000022  6602              STR      r2,[r0,#0x60]
                  |L4.36|
;;;177        }
;;;178    
;;;179        /* Disable non-acknowledge interrupt flag */
;;;180        if ((u32Mask & UI2C_NACK_INT_MASK) == UI2C_NACK_INT_MASK)
000024  070a              LSLS     r2,r1,#28
000026  d503              BPL      |L4.48|
;;;181        {
;;;182            ui2c->PROTIEN &= ~UI2C_PROTIEN_NACKIEN_Msk;
000028  6e02              LDR      r2,[r0,#0x60]
00002a  2308              MOVS     r3,#8
00002c  439a              BICS     r2,r2,r3
00002e  6602              STR      r2,[r0,#0x60]
                  |L4.48|
;;;183        }
;;;184    
;;;185        /* Disable arbitration lost interrupt flag */
;;;186        if ((u32Mask & UI2C_ARBLO_INT_MASK) == UI2C_ARBLO_INT_MASK)
000030  06ca              LSLS     r2,r1,#27
000032  d503              BPL      |L4.60|
;;;187        {
;;;188            ui2c->PROTIEN &= ~UI2C_PROTIEN_ARBLOIEN_Msk;
000034  6e02              LDR      r2,[r0,#0x60]
000036  2310              MOVS     r3,#0x10
000038  439a              BICS     r2,r2,r3
00003a  6602              STR      r2,[r0,#0x60]
                  |L4.60|
;;;189        }
;;;190    
;;;191        /* Disable error interrupt flag */
;;;192        if ((u32Mask & UI2C_ERR_INT_MASK) == UI2C_ERR_INT_MASK)
00003c  068a              LSLS     r2,r1,#26
00003e  d503              BPL      |L4.72|
;;;193        {
;;;194            ui2c->PROTIEN &= ~UI2C_PROTIEN_ERRIEN_Msk;
000040  6e02              LDR      r2,[r0,#0x60]
000042  2320              MOVS     r3,#0x20
000044  439a              BICS     r2,r2,r3
000046  6602              STR      r2,[r0,#0x60]
                  |L4.72|
;;;195        }
;;;196    
;;;197        /* Disable acknowledge interrupt flag */
;;;198        if ((u32Mask & UI2C_ACK_INT_MASK) == UI2C_ACK_INT_MASK)
000048  0649              LSLS     r1,r1,#25
00004a  d503              BPL      |L4.84|
;;;199        {
;;;200            ui2c->PROTIEN &= ~UI2C_PROTIEN_ACKIEN_Msk;
00004c  6e01              LDR      r1,[r0,#0x60]
00004e  2240              MOVS     r2,#0x40
000050  4391              BICS     r1,r1,r2
000052  6601              STR      r1,[r0,#0x60]
                  |L4.84|
;;;201        }
;;;202    }
000054  4770              BX       lr
;;;203    
                          ENDP


                          AREA ||i.UI2C_DisableTimeout||, CODE, READONLY, ALIGN=2

                  UI2C_DisableTimeout PROC
;;;578     */
;;;579    void UI2C_DisableTimeout(UI2C_T *ui2c)
000000  6dc1              LDR      r1,[r0,#0x5c]
;;;580    {
;;;581        ui2c->PROTCTL &= ~UI2C_PROTCTL_TOCNT_Msk;
000002  4a04              LDR      r2,|L5.20|
000004  4011              ANDS     r1,r1,r2
000006  65c1              STR      r1,[r0,#0x5c]
;;;582        ui2c->BRGEN &= ~UI2C_BRGEN_TMCNTEN_Msk;
000008  6881              LDR      r1,[r0,#8]
00000a  2210              MOVS     r2,#0x10
00000c  4391              BICS     r1,r1,r2
00000e  6081              STR      r1,[r0,#8]
;;;583    }
000010  4770              BX       lr
;;;584    
                          ENDP

000012  0000              DCW      0x0000
                  |L5.20|
                          DCD      0xfc00ffff

                          AREA ||i.UI2C_DisableWakeup||, CODE, READONLY, ALIGN=1

                  UI2C_DisableWakeup PROC
;;;610     */
;;;611    void UI2C_DisableWakeup(UI2C_T *ui2c)
000000  6d41              LDR      r1,[r0,#0x54]
;;;612    {
;;;613        ui2c->WKCTL &= ~UI2C_WKCTL_WKEN_Msk;
000002  0849              LSRS     r1,r1,#1
000004  0049              LSLS     r1,r1,#1
000006  6541              STR      r1,[r0,#0x54]
;;;614    }
000008  4770              BX       lr
;;;615    
                          ENDP


                          AREA ||i.UI2C_EnableInt||, CODE, READONLY, ALIGN=1

                  UI2C_EnableInt PROC
;;;220     */
;;;221    void UI2C_EnableInt(UI2C_T *ui2c, uint32_t u32Mask)
000000  07ca              LSLS     r2,r1,#31
;;;222    {
000002  d003              BEQ      |L7.12|
;;;223        /* Enable time-out interrupt flag */
;;;224        if ((u32Mask & UI2C_TO_INT_MASK) == UI2C_TO_INT_MASK)
;;;225        {
;;;226            ui2c->PROTIEN |= UI2C_PROTIEN_TOIEN_Msk;
000004  6e02              LDR      r2,[r0,#0x60]
000006  2301              MOVS     r3,#1
000008  431a              ORRS     r2,r2,r3
00000a  6602              STR      r2,[r0,#0x60]
                  |L7.12|
;;;227        }
;;;228    
;;;229        /* Enable start condition received interrupt flag */
;;;230        if ((u32Mask & UI2C_STAR_INT_MASK) == UI2C_STAR_INT_MASK)
00000c  078a              LSLS     r2,r1,#30
00000e  d503              BPL      |L7.24|
;;;231        {
;;;232            ui2c->PROTIEN |= UI2C_PROTIEN_STARIEN_Msk;
000010  6e02              LDR      r2,[r0,#0x60]
000012  2302              MOVS     r3,#2
000014  431a              ORRS     r2,r2,r3
000016  6602              STR      r2,[r0,#0x60]
                  |L7.24|
;;;233        }
;;;234    
;;;235        /* Enable stop condition received interrupt flag */
;;;236        if ((u32Mask & UI2C_STOR_INT_MASK) == UI2C_STOR_INT_MASK)
000018  074a              LSLS     r2,r1,#29
00001a  d503              BPL      |L7.36|
;;;237        {
;;;238            ui2c->PROTIEN |= UI2C_PROTIEN_STORIEN_Msk;
00001c  6e02              LDR      r2,[r0,#0x60]
00001e  2304              MOVS     r3,#4
000020  431a              ORRS     r2,r2,r3
000022  6602              STR      r2,[r0,#0x60]
                  |L7.36|
;;;239        }
;;;240    
;;;241        /* Enable non-acknowledge interrupt flag */
;;;242        if ((u32Mask & UI2C_NACK_INT_MASK) == UI2C_NACK_INT_MASK)
000024  070a              LSLS     r2,r1,#28
000026  d503              BPL      |L7.48|
;;;243        {
;;;244            ui2c->PROTIEN |= UI2C_PROTIEN_NACKIEN_Msk;
000028  6e02              LDR      r2,[r0,#0x60]
00002a  2308              MOVS     r3,#8
00002c  431a              ORRS     r2,r2,r3
00002e  6602              STR      r2,[r0,#0x60]
                  |L7.48|
;;;245        }
;;;246    
;;;247        /* Enable arbitration lost interrupt flag */
;;;248        if ((u32Mask & UI2C_ARBLO_INT_MASK) == UI2C_ARBLO_INT_MASK)
000030  06ca              LSLS     r2,r1,#27
000032  d503              BPL      |L7.60|
;;;249        {
;;;250            ui2c->PROTIEN |= UI2C_PROTIEN_ARBLOIEN_Msk;
000034  6e02              LDR      r2,[r0,#0x60]
000036  2310              MOVS     r3,#0x10
000038  431a              ORRS     r2,r2,r3
00003a  6602              STR      r2,[r0,#0x60]
                  |L7.60|
;;;251        }
;;;252    
;;;253        /* Enable error interrupt flag */
;;;254        if ((u32Mask & UI2C_ERR_INT_MASK) == UI2C_ERR_INT_MASK)
00003c  068a              LSLS     r2,r1,#26
00003e  d503              BPL      |L7.72|
;;;255        {
;;;256            ui2c->PROTIEN |= UI2C_PROTIEN_ERRIEN_Msk;
000040  6e02              LDR      r2,[r0,#0x60]
000042  2320              MOVS     r3,#0x20
000044  431a              ORRS     r2,r2,r3
000046  6602              STR      r2,[r0,#0x60]
                  |L7.72|
;;;257        }
;;;258    
;;;259        /* Enable acknowledge interrupt flag */
;;;260        if ((u32Mask & UI2C_ACK_INT_MASK) == UI2C_ACK_INT_MASK)
000048  0649              LSLS     r1,r1,#25
00004a  d503              BPL      |L7.84|
;;;261        {
;;;262            ui2c->PROTIEN |= UI2C_PROTIEN_ACKIEN_Msk;
00004c  6e01              LDR      r1,[r0,#0x60]
00004e  2240              MOVS     r2,#0x40
000050  4311              ORRS     r1,r1,r2
000052  6601              STR      r1,[r0,#0x60]
                  |L7.84|
;;;263        }
;;;264    }
000054  4770              BX       lr
;;;265    
                          ENDP


                          AREA ||i.UI2C_EnableTimeout||, CODE, READONLY, ALIGN=2

                  UI2C_EnableTimeout PROC
;;;563     */
;;;564    void UI2C_EnableTimeout(UI2C_T *ui2c, uint32_t u32TimeoutCnt)
000000  6dc2              LDR      r2,[r0,#0x5c]
;;;565    {
;;;566        ui2c->PROTCTL = (ui2c->PROTCTL & ~UI2C_PROTCTL_TOCNT_Msk) | (u32TimeoutCnt << UI2C_PROTCTL_TOCNT_Pos);
000002  4b06              LDR      r3,|L8.28|
000004  0409              LSLS     r1,r1,#16
000006  401a              ANDS     r2,r2,r3
000008  430a              ORRS     r2,r2,r1
00000a  65c2              STR      r2,[r0,#0x5c]
;;;567        ui2c->BRGEN = (ui2c->BRGEN & ~UI2C_BRGEN_TMCNTSRC_Msk) | UI2C_BRGEN_TMCNTEN_Msk;
00000c  6881              LDR      r1,[r0,#8]
00000e  2220              MOVS     r2,#0x20
000010  4391              BICS     r1,r1,r2
000012  2210              MOVS     r2,#0x10
000014  4311              ORRS     r1,r1,r2
000016  6081              STR      r1,[r0,#8]
;;;568    }
000018  4770              BX       lr
;;;569    
                          ENDP

00001a  0000              DCW      0x0000
                  |L8.28|
                          DCD      0xfc00ffff

                          AREA ||i.UI2C_EnableWakeup||, CODE, READONLY, ALIGN=1

                  UI2C_EnableWakeup PROC
;;;596     */
;;;597    void UI2C_EnableWakeup(UI2C_T *ui2c, uint8_t u8WakeupMode)
000000  6d42              LDR      r2,[r0,#0x54]
;;;598    {
;;;599        ui2c->WKCTL = (ui2c->WKCTL & ~UI2C_WKCTL_WKADDREN_Msk) | (u8WakeupMode | UI2C_WKCTL_WKEN_Msk);
000002  2302              MOVS     r3,#2
000004  439a              BICS     r2,r2,r3
000006  430a              ORRS     r2,r2,r1
000008  2101              MOVS     r1,#1
00000a  430a              ORRS     r2,r2,r1
00000c  6542              STR      r2,[r0,#0x54]
;;;600    }
00000e  4770              BX       lr
;;;601    
                          ENDP


                          AREA ||i.UI2C_GetBusClockFreq||, CODE, READONLY, ALIGN=2

                  UI2C_GetBusClockFreq PROC
;;;274     */
;;;275    uint32_t UI2C_GetBusClockFreq(UI2C_T *ui2c)
000000  b510              PUSH     {r4,lr}
;;;276    {
000002  4604              MOV      r4,r0
;;;277        uint32_t u32Divider;
;;;278        uint32_t u32Pclk;
;;;279    
;;;280        if (ui2c == UI2C0)
000004  4807              LDR      r0,|L10.36|
000006  4284              CMP      r4,r0
000008  d102              BNE      |L10.16|
;;;281        {
;;;282            u32Pclk = CLK_GetPCLK0Freq();
00000a  f7fffffe          BL       CLK_GetPCLK0Freq
00000e  e001              B        |L10.20|
                  |L10.16|
;;;283        }
;;;284        else
;;;285        {
;;;286            u32Pclk = CLK_GetPCLK1Freq();
000010  f7fffffe          BL       CLK_GetPCLK1Freq
                  |L10.20|
;;;287        }
;;;288    
;;;289        u32Divider = (ui2c->BRGEN & UI2C_BRGEN_CLKDIV_Msk) >> UI2C_BRGEN_CLKDIV_Pos;
000014  68a1              LDR      r1,[r4,#8]
;;;290    
;;;291        return (u32Pclk / ((u32Divider + 1U) << 1U));
;;;292    }
000016  0189              LSLS     r1,r1,#6
000018  0d89              LSRS     r1,r1,#22
00001a  0049              LSLS     r1,r1,#1              ;291
00001c  1c89              ADDS     r1,r1,#2              ;291
00001e  f7fffffe          BL       __aeabi_uidivmod
000022  bd10              POP      {r4,pc}
;;;293    
                          ENDP

                  |L10.36|
                          DCD      0x400d0000

                          AREA ||i.UI2C_GetData||, CODE, READONLY, ALIGN=1

                  UI2C_GetData PROC
;;;481     */
;;;482    uint32_t UI2C_GetData(UI2C_T *ui2c)
000000  6b40              LDR      r0,[r0,#0x34]
;;;483    {
;;;484        return (ui2c->RXDAT);
;;;485    }
000002  4770              BX       lr
;;;486    
                          ENDP


                          AREA ||i.UI2C_GetIntFlag||, CODE, READONLY, ALIGN=1

                  UI2C_GetIntFlag PROC
;;;345     */
;;;346    uint32_t UI2C_GetIntFlag(UI2C_T *ui2c, uint32_t u32Mask)
000000  b530              PUSH     {r4,r5,lr}
;;;347    {
000002  4602              MOV      r2,r0
;;;348        uint32_t u32IntFlag = 0U;
;;;349        uint32_t u32TmpValue;
;;;350    
;;;351        u32TmpValue = ui2c->PROTSTS & UI2C_PROTSTS_TOIF_Msk;
000004  6e53              LDR      r3,[r2,#0x64]
000006  2000              MOVS     r0,#0                 ;348
000008  2420              MOVS     r4,#0x20
00000a  4023              ANDS     r3,r3,r4
;;;352    
;;;353        /* Check Time-out Interrupt Flag */
;;;354        if ((u32Mask & UI2C_TO_INT_MASK) && (u32TmpValue))
00000c  07cd              LSLS     r5,r1,#31
00000e  d002              BEQ      |L12.22|
000010  2b00              CMP      r3,#0
000012  d000              BEQ      |L12.22|
;;;355        {
;;;356            u32IntFlag |= UI2C_TO_INT_MASK;
000014  2001              MOVS     r0,#1
                  |L12.22|
;;;357        }
;;;358    
;;;359        u32TmpValue = ui2c->PROTSTS & UI2C_PROTSTS_STARIF_Msk;
000016  6e53              LDR      r3,[r2,#0x64]
000018  25ff              MOVS     r5,#0xff
00001a  3501              ADDS     r5,#1
00001c  402b              ANDS     r3,r3,r5
;;;360    
;;;361        /* Check Start Condition Received Interrupt Flag */
;;;362        if ((u32Mask & UI2C_STAR_INT_MASK) && (u32TmpValue))
00001e  078d              LSLS     r5,r1,#30
000020  d503              BPL      |L12.42|
000022  2b00              CMP      r3,#0
000024  d001              BEQ      |L12.42|
;;;363        {
;;;364            u32IntFlag |= UI2C_STAR_INT_MASK;
000026  2302              MOVS     r3,#2
000028  4318              ORRS     r0,r0,r3
                  |L12.42|
;;;365        }
;;;366    
;;;367        u32TmpValue = ui2c->PROTSTS & UI2C_PROTSTS_STORIF_Msk;
00002a  6e53              LDR      r3,[r2,#0x64]
00002c  2501              MOVS     r5,#1
00002e  026d              LSLS     r5,r5,#9
000030  402b              ANDS     r3,r3,r5
;;;368    
;;;369        /* Check Stop Condition Received Interrupt Flag */
;;;370        if ((u32Mask & UI2C_STOR_INT_MASK) && (u32TmpValue))
000032  074d              LSLS     r5,r1,#29
000034  d503              BPL      |L12.62|
000036  2b00              CMP      r3,#0
000038  d001              BEQ      |L12.62|
;;;371        {
;;;372            u32IntFlag |= UI2C_STOR_INT_MASK;
00003a  2304              MOVS     r3,#4
00003c  4318              ORRS     r0,r0,r3
                  |L12.62|
;;;373        }
;;;374    
;;;375        u32TmpValue = ui2c->PROTSTS & UI2C_PROTSTS_NACKIF_Msk;
00003e  6e53              LDR      r3,[r2,#0x64]
000040  2501              MOVS     r5,#1
000042  02ad              LSLS     r5,r5,#10
000044  402b              ANDS     r3,r3,r5
;;;376    
;;;377        /* Check Non-Acknowledge Interrupt Flag */
;;;378        if ((u32Mask & UI2C_NACK_INT_MASK) && (u32TmpValue))
000046  070d              LSLS     r5,r1,#28
000048  d503              BPL      |L12.82|
00004a  2b00              CMP      r3,#0
00004c  d001              BEQ      |L12.82|
;;;379        {
;;;380            u32IntFlag |= UI2C_NACK_INT_MASK;
00004e  2308              MOVS     r3,#8
000050  4318              ORRS     r0,r0,r3
                  |L12.82|
;;;381        }
;;;382    
;;;383        u32TmpValue = ui2c->PROTSTS & UI2C_PROTSTS_ARBLOIF_Msk;
000052  6e53              LDR      r3,[r2,#0x64]
000054  2501              MOVS     r5,#1
000056  02ed              LSLS     r5,r5,#11
000058  402b              ANDS     r3,r3,r5
;;;384    
;;;385        /* Check Arbitration Lost Interrupt Flag */
;;;386        if ((u32Mask & UI2C_ARBLO_INT_MASK) && (u32TmpValue))
00005a  06cd              LSLS     r5,r1,#27
00005c  d503              BPL      |L12.102|
00005e  2b00              CMP      r3,#0
000060  d001              BEQ      |L12.102|
;;;387        {
;;;388            u32IntFlag |= UI2C_ARBLO_INT_MASK;
000062  2310              MOVS     r3,#0x10
000064  4318              ORRS     r0,r0,r3
                  |L12.102|
;;;389        }
;;;390    
;;;391        u32TmpValue = ui2c->PROTSTS & UI2C_PROTSTS_ERRIF_Msk;
000066  6e53              LDR      r3,[r2,#0x64]
000068  2501              MOVS     r5,#1
00006a  032d              LSLS     r5,r5,#12
00006c  402b              ANDS     r3,r3,r5
;;;392    
;;;393        /* Check Error Interrupt Flag */
;;;394        if ((u32Mask & UI2C_ERR_INT_MASK) && (u32TmpValue))
00006e  068d              LSLS     r5,r1,#26
000070  d502              BPL      |L12.120|
000072  2b00              CMP      r3,#0
000074  d000              BEQ      |L12.120|
;;;395        {
;;;396            u32IntFlag |= UI2C_ERR_INT_MASK;
000076  4320              ORRS     r0,r0,r4
                  |L12.120|
;;;397        }
;;;398    
;;;399        u32TmpValue = ui2c->PROTSTS & UI2C_PROTSTS_ACKIF_Msk;
000078  6e52              LDR      r2,[r2,#0x64]
00007a  2301              MOVS     r3,#1
00007c  035b              LSLS     r3,r3,#13
00007e  401a              ANDS     r2,r2,r3
;;;400    
;;;401        /* Check Acknowledge Interrupt Flag */
;;;402        if ((u32Mask & UI2C_ACK_INT_MASK) && (u32TmpValue))
000080  0649              LSLS     r1,r1,#25
000082  d503              BPL      |L12.140|
000084  2a00              CMP      r2,#0
000086  d001              BEQ      |L12.140|
;;;403        {
;;;404            u32IntFlag |= UI2C_ACK_INT_MASK;
000088  2140              MOVS     r1,#0x40
00008a  4308              ORRS     r0,r0,r1
                  |L12.140|
;;;405        }
;;;406    
;;;407        return u32IntFlag;
;;;408    }
00008c  bd30              POP      {r4,r5,pc}
;;;409    
                          ENDP


                          AREA ||i.UI2C_Open||, CODE, READONLY, ALIGN=2

                  UI2C_Open PROC
;;;33      */
;;;34     uint32_t UI2C_Open(UI2C_T *ui2c, uint32_t u32BusClock)
000000  b570              PUSH     {r4-r6,lr}
;;;35     {
000002  4604              MOV      r4,r0
;;;36         uint32_t u32ClkDiv;
;;;37         uint32_t u32Pclk;
;;;38     
;;;39         if (ui2c == UI2C0)
000004  481d              LDR      r0,|L13.124|
000006  460e              MOV      r6,r1                 ;35
000008  4284              CMP      r4,r0
00000a  d102              BNE      |L13.18|
;;;40         {
;;;41             u32Pclk = CLK_GetPCLK0Freq();
00000c  f7fffffe          BL       CLK_GetPCLK0Freq
000010  e001              B        |L13.22|
                  |L13.18|
;;;42         }
;;;43         else
;;;44         {
;;;45             u32Pclk = CLK_GetPCLK1Freq();
000012  f7fffffe          BL       CLK_GetPCLK1Freq
                  |L13.22|
000016  4605              MOV      r5,r0
;;;46         }
;;;47     
;;;48         u32ClkDiv = (uint32_t)((((((u32Pclk / 2U) * 10U) / (u32BusClock)) + 5U) / 10U) - 1U); /* Compute proper divider for USCI_I2C clock */
000018  0840              LSRS     r0,r0,#1
00001a  210a              MOVS     r1,#0xa
00001c  4348              MULS     r0,r1,r0
00001e  4631              MOV      r1,r6
000020  f7fffffe          BL       __aeabi_uidivmod
000024  210a              MOVS     r1,#0xa
000026  1d40              ADDS     r0,r0,#5
000028  f7fffffe          BL       __aeabi_uidivmod
;;;49     
;;;50         /* Enable USCI_I2C protocol */
;;;51         ui2c->CTL &= ~UI2C_CTL_FUNMODE_Msk;
00002c  6821              LDR      r1,[r4,#0]
00002e  08c9              LSRS     r1,r1,#3
000030  00c9              LSLS     r1,r1,#3
000032  6021              STR      r1,[r4,#0]
;;;52         ui2c->CTL = 4U << UI2C_CTL_FUNMODE_Pos;
000034  2104              MOVS     r1,#4
000036  6021              STR      r1,[r4,#0]
;;;53     
;;;54         /* Data format configuration */
;;;55         /* 8 bit data length */
;;;56         ui2c->LINECTL &= ~UI2C_LINECTL_DWIDTH_Msk;
000038  6ae1              LDR      r1,[r4,#0x2c]
00003a  220f              MOVS     r2,#0xf
00003c  0212              LSLS     r2,r2,#8
00003e  4391              BICS     r1,r1,r2
000040  62e1              STR      r1,[r4,#0x2c]
;;;57         ui2c->LINECTL |= 8U << UI2C_LINECTL_DWIDTH_Pos;
000042  6ae1              LDR      r1,[r4,#0x2c]
000044  2201              MOVS     r2,#1
000046  02d2              LSLS     r2,r2,#11
000048  4311              ORRS     r1,r1,r2
00004a  62e1              STR      r1,[r4,#0x2c]
;;;58     
;;;59         /* MSB data format */
;;;60         ui2c->LINECTL &= ~UI2C_LINECTL_LSB_Msk;
00004c  6ae1              LDR      r1,[r4,#0x2c]
00004e  0849              LSRS     r1,r1,#1
000050  0049              LSLS     r1,r1,#1
000052  62e1              STR      r1,[r4,#0x2c]
;;;61     
;;;62         /* Set USCI_I2C bus clock */
;;;63         ui2c->BRGEN &= ~UI2C_BRGEN_CLKDIV_Msk;
000054  68a1              LDR      r1,[r4,#8]
000056  4a0a              LDR      r2,|L13.128|
000058  4011              ANDS     r1,r1,r2
00005a  60a1              STR      r1,[r4,#8]
;;;64         ui2c->BRGEN |= (u32ClkDiv << UI2C_BRGEN_CLKDIV_Pos);
00005c  68a1              LDR      r1,[r4,#8]
00005e  1e40              SUBS     r0,r0,#1
000060  0402              LSLS     r2,r0,#16
000062  4311              ORRS     r1,r1,r2
000064  60a1              STR      r1,[r4,#8]
;;;65         ui2c->PROTCTL |=  UI2C_PROTCTL_PROTEN_Msk;
000066  6de1              LDR      r1,[r4,#0x5c]
000068  2201              MOVS     r2,#1
00006a  07d2              LSLS     r2,r2,#31
00006c  4311              ORRS     r1,r1,r2
00006e  65e1              STR      r1,[r4,#0x5c]
;;;66     
;;;67         return (u32Pclk / ((u32ClkDiv + 1U) << 1U));
000070  0041              LSLS     r1,r0,#1
000072  4628              MOV      r0,r5
000074  1c89              ADDS     r1,r1,#2
000076  f7fffffe          BL       __aeabi_uidivmod
;;;68     }
00007a  bd70              POP      {r4-r6,pc}
;;;69     
                          ENDP

                  |L13.124|
                          DCD      0x400d0000
                  |L13.128|
                          DCD      0xfc00ffff

                          AREA ||i.UI2C_ReadByte||, CODE, READONLY, ALIGN=1

                  UI2C_ReadByte PROC
;;;1101     */
;;;1102   uint8_t UI2C_ReadByte(UI2C_T *ui2c, uint8_t u8SlaveAddr)
000000  b5f0              PUSH     {r4-r7,lr}
;;;1103   {
;;;1104       uint8_t u8Xfering = 1U, u8Err = 0U, rdata = 0U, u8Ctrl = 0U;
000002  2400              MOVS     r4,#0
000004  2601              MOVS     r6,#1
;;;1105       enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;1106   
;;;1107       UI2C_START(ui2c);                                                       /* Send START */
000006  6dc7              LDR      r7,[r0,#0x5c]
000008  468c              MOV      r12,r1                ;1103
00000a  4625              MOV      r5,r4                 ;1104
00000c  4622              MOV      r2,r4                 ;1104
00000e  2312              MOVS     r3,#0x12              ;1105
000010  2120              MOVS     r1,#0x20
000012  438f              BICS     r7,r7,r1
000014  2108              MOVS     r1,#8
000016  430f              ORRS     r7,r7,r1
000018  65c7              STR      r7,[r0,#0x5c]
                  |L14.26|
;;;1108   
;;;1109       while (u8Xfering)
;;;1110       {
;;;1111           while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
00001a  6e41              LDR      r1,[r0,#0x64]
00001c  0489              LSLS     r1,r1,#18
00001e  0e89              LSRS     r1,r1,#26
000020  d0fb              BEQ      |L14.26|
;;;1112   
;;;1113           switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
000022  6e47              LDR      r7,[r0,#0x64]
000024  213f              MOVS     r1,#0x3f
000026  0209              LSLS     r1,r1,#8
000028  400f              ANDS     r7,r7,r1
00002a  3fff              SUBS     r7,r7,#0xff
00002c  1e7f              SUBS     r7,r7,#1
00002e  d01d              BEQ      |L14.108|
000030  3fff              SUBS     r7,r7,#0xff
000032  1e7f              SUBS     r7,r7,#1
000034  d02f              BEQ      |L14.150|
000036  3fff              SUBS     r7,r7,#0xff
000038  3fff              SUBS     r7,r7,#0xff
00003a  1ebf              SUBS     r7,r7,#2
00003c  d020              BEQ      |L14.128|
00003e  2107              MOVS     r1,#7
000040  0289              LSLS     r1,r1,#10
000042  428f              CMP      r7,r1
000044  d104              BNE      |L14.80|
;;;1114           {
;;;1115           case UI2C_PROTSTS_STARIF_Msk:
;;;1116               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;1117               UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x01U);             /* Write SLA+R to Register UI2C_TXDAT */
;;;1118               eEvent = MASTER_SEND_H_RD_ADDRESS;
;;;1119               u8Ctrl = UI2C_CTL_PTRG;
;;;1120               break;
;;;1121   
;;;1122           case UI2C_PROTSTS_ACKIF_Msk:
;;;1123               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
000046  2101              MOVS     r1,#1
000048  0349              LSLS     r1,r1,#13
00004a  6641              STR      r1,[r0,#0x64]
;;;1124               eEvent = MASTER_READ_DATA;
00004c  2310              MOVS     r3,#0x10
;;;1125               break;
00004e  e001              B        |L14.84|
                  |L14.80|
;;;1126   
;;;1127           case UI2C_PROTSTS_NACKIF_Msk:
;;;1128               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
;;;1129   
;;;1130               if (eEvent == MASTER_SEND_H_RD_ADDRESS)
;;;1131               {
;;;1132                   u8Err = 1U;
;;;1133               }
;;;1134               else
;;;1135               {
;;;1136                   rdata = (unsigned char) UI2C_GET_DATA(ui2c);            /* Receive Data */
;;;1137               }
;;;1138   
;;;1139               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
;;;1140   
;;;1141               break;
;;;1142   
;;;1143           case UI2C_PROTSTS_STORIF_Msk:
;;;1144               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
;;;1145               u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;1146               u8Xfering = 0U;
;;;1147               break;
;;;1148   
;;;1149           case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;1150           default:                                                        /* Unknow status */
;;;1151               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
000050  2224              MOVS     r2,#0x24
;;;1152               u8Err = 1U;
000052  2401              MOVS     r4,#1
                  |L14.84|
;;;1153               break;
;;;1154           }
;;;1155   
;;;1156           UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_PROTCTL register */
000054  6dc7              LDR      r7,[r0,#0x5c]
000056  212e              MOVS     r1,#0x2e
000058  438f              BICS     r7,r7,r1
00005a  4317              ORRS     r7,r7,r2
00005c  65c7              STR      r7,[r0,#0x5c]
00005e  2e00              CMP      r6,#0                 ;1109
000060  d1db              BNE      |L14.26|
;;;1157       }
;;;1158   
;;;1159       if (u8Err)
000062  2c00              CMP      r4,#0
000064  d000              BEQ      |L14.104|
;;;1160           rdata = 0U;
000066  2500              MOVS     r5,#0
                  |L14.104|
;;;1161   
;;;1162       return rdata;                                                           /* Return read data */
000068  4628              MOV      r0,r5
;;;1163   }
00006a  bdf0              POP      {r4-r7,pc}
                  |L14.108|
00006c  21ff              MOVS     r1,#0xff              ;1116
00006e  3101              ADDS     r1,#1                 ;1116
000070  6641              STR      r1,[r0,#0x64]         ;1116
000072  4661              MOV      r1,r12                ;1117
000074  0049              LSLS     r1,r1,#1              ;1117
000076  1c49              ADDS     r1,r1,#1              ;1117
000078  6301              STR      r1,[r0,#0x30]         ;1117
00007a  230c              MOVS     r3,#0xc               ;1118
00007c  2220              MOVS     r2,#0x20              ;1119
00007e  e7e9              B        |L14.84|
                  |L14.128|
000080  2101              MOVS     r1,#1                 ;1128
000082  0289              LSLS     r1,r1,#10             ;1128
000084  6641              STR      r1,[r0,#0x64]         ;1128
000086  2b0c              CMP      r3,#0xc               ;1130
000088  d003              BEQ      |L14.146|
00008a  6b41              LDR      r1,[r0,#0x34]         ;1136
00008c  b2cd              UXTB     r5,r1                 ;1136
                  |L14.142|
00008e  2224              MOVS     r2,#0x24              ;1139
000090  e7e0              B        |L14.84|
                  |L14.146|
000092  2401              MOVS     r4,#1                 ;1132
000094  e7fb              B        |L14.142|
                  |L14.150|
000096  2101              MOVS     r1,#1                 ;1144
000098  0249              LSLS     r1,r1,#9              ;1144
00009a  6641              STR      r1,[r0,#0x64]         ;1144
00009c  2220              MOVS     r2,#0x20              ;1145
00009e  2600              MOVS     r6,#0                 ;1146
0000a0  e7d8              B        |L14.84|
;;;1164   
                          ENDP


                          AREA ||i.UI2C_ReadByteOneReg||, CODE, READONLY, ALIGN=1

                  UI2C_ReadByteOneReg PROC
;;;1262     */
;;;1263   uint8_t UI2C_ReadByteOneReg(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint8_t u8DataAddr)
000000  b5f0              PUSH     {r4-r7,lr}
;;;1264   {
000002  4696              MOV      lr,r2
;;;1265       uint8_t u8Xfering = 1U, u8Err = 0U, rdata = 0U, u8Ctrl = 0U;
000004  2201              MOVS     r2,#1
000006  4694              MOV      r12,r2
000008  2400              MOVS     r4,#0
;;;1266       enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;1267   
;;;1268       UI2C_START(ui2c);                                                       /* Send START */
00000a  6dc2              LDR      r2,[r0,#0x5c]
00000c  4625              MOV      r5,r4                 ;1265
00000e  2312              MOVS     r3,#0x12              ;1266
000010  2620              MOVS     r6,#0x20
000012  43b2              BICS     r2,r2,r6
000014  2608              MOVS     r6,#8
000016  4332              ORRS     r2,r2,r6
000018  65c2              STR      r2,[r0,#0x5c]
;;;1269   
;;;1270       while (u8Xfering)
;;;1271       {
;;;1272           while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
;;;1273   
;;;1274           switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
;;;1275           {
;;;1276           case UI2C_PROTSTS_STARIF_Msk:
;;;1277               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;1278   
;;;1279               if (eEvent == MASTER_SEND_START)
;;;1280               {
;;;1281                   UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);         /* Write SLA+W to Register UI2C_TXDAT */
00001a  004e              LSLS     r6,r1,#1
                  |L15.28|
00001c  6e41              LDR      r1,[r0,#0x64]         ;1272
00001e  0489              LSLS     r1,r1,#18             ;1272
000020  0e89              LSRS     r1,r1,#26             ;1272
000022  d0fb              BEQ      |L15.28|
000024  6e41              LDR      r1,[r0,#0x64]         ;1274
000026  273f              MOVS     r7,#0x3f              ;1274
000028  023f              LSLS     r7,r7,#8              ;1274
00002a  4039              ANDS     r1,r1,r7              ;1274
00002c  39ff              SUBS     r1,r1,#0xff           ;1274
00002e  1e49              SUBS     r1,r1,#1              ;1274
000030  d023              BEQ      |L15.122|
000032  39ff              SUBS     r1,r1,#0xff           ;1274
000034  1e49              SUBS     r1,r1,#1              ;1274
000036  d043              BEQ      |L15.192|
000038  39ff              SUBS     r1,r1,#0xff           ;1274
00003a  39ff              SUBS     r1,r1,#0xff           ;1274
00003c  1e89              SUBS     r1,r1,#2              ;1274
00003e  d034              BEQ      |L15.170|
000040  2707              MOVS     r7,#7                 ;1274
000042  02bf              LSLS     r7,r7,#10             ;1274
000044  42b9              CMP      r1,r7                 ;1274
000046  d109              BNE      |L15.92|
;;;1282                   eEvent = MASTER_SEND_ADDRESS;
;;;1283               }
;;;1284               else if (eEvent == MASTER_SEND_REPEAT_START)
;;;1285               {
;;;1286                   UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x01U);        /* Write SLA+R to Register TXDAT */
;;;1287                   eEvent = MASTER_SEND_H_RD_ADDRESS;
;;;1288               }
;;;1289   
;;;1290               u8Ctrl = UI2C_CTL_PTRG;
;;;1291               break;
;;;1292   
;;;1293           case UI2C_PROTSTS_ACKIF_Msk:
;;;1294               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
000048  2101              MOVS     r1,#1
00004a  0349              LSLS     r1,r1,#13
00004c  6641              STR      r1,[r0,#0x64]
;;;1295   
;;;1296               if (eEvent == MASTER_SEND_ADDRESS)
00004e  2b0a              CMP      r3,#0xa
000050  d023              BEQ      |L15.154|
;;;1297               {
;;;1298                   UI2C_SET_DATA(ui2c, u8DataAddr);                        /* Write data address of register */
;;;1299                   u8Ctrl = UI2C_CTL_PTRG;
;;;1300                   eEvent = MASTER_SEND_DATA;
;;;1301               }
;;;1302               else if (eEvent == MASTER_SEND_DATA)
000052  2b0e              CMP      r3,#0xe
000054  d026              BEQ      |L15.164|
;;;1303               {
;;;1304                   u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STA);                /* Send repeat START signal */
;;;1305                   eEvent = MASTER_SEND_REPEAT_START;
;;;1306               }
;;;1307               else
;;;1308               {
;;;1309                   /* SLA+R ACK */
;;;1310                   u8Ctrl = UI2C_CTL_PTRG;
000056  2120              MOVS     r1,#0x20
;;;1311                   eEvent = MASTER_READ_DATA;
000058  2310              MOVS     r3,#0x10
00005a  e001              B        |L15.96|
                  |L15.92|
;;;1312               }
;;;1313   
;;;1314               break;
;;;1315   
;;;1316           case UI2C_PROTSTS_NACKIF_Msk:
;;;1317               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
;;;1318   
;;;1319               if (eEvent == MASTER_READ_DATA)
;;;1320               {
;;;1321                   rdata = (uint8_t) UI2C_GET_DATA(ui2c);                  /* Receive Data */
;;;1322               }
;;;1323               else
;;;1324               {
;;;1325                   u8Err = 1U;
;;;1326               }
;;;1327   
;;;1328               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
;;;1329   
;;;1330               break;
;;;1331   
;;;1332           case UI2C_PROTSTS_STORIF_Msk:
;;;1333               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
;;;1334               u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;1335               u8Xfering = 0U;
;;;1336               break;
;;;1337   
;;;1338           case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;1339           default:                                                        /* Unknow status */
;;;1340               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
00005c  2124              MOVS     r1,#0x24
;;;1341               u8Err = 1U;
00005e  2401              MOVS     r4,#1
                  |L15.96|
;;;1342               break;
;;;1343           }
;;;1344   
;;;1345           UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_PROTCTL register */
000060  6dc7              LDR      r7,[r0,#0x5c]
000062  222e              MOVS     r2,#0x2e
000064  4397              BICS     r7,r7,r2
000066  430f              ORRS     r7,r7,r1
000068  65c7              STR      r7,[r0,#0x5c]
00006a  4661              MOV      r1,r12                ;1270
00006c  2900              CMP      r1,#0                 ;1270
00006e  d1d5              BNE      |L15.28|
;;;1346       }
;;;1347   
;;;1348       if (u8Err)
000070  2c00              CMP      r4,#0
000072  d000              BEQ      |L15.118|
;;;1349           rdata = 0U;                                                 /* If occurs error, return 0 */
000074  2500              MOVS     r5,#0
                  |L15.118|
;;;1350   
;;;1351       return rdata;                                                  /* Return read data */
000076  4628              MOV      r0,r5
;;;1352   }
000078  bdf0              POP      {r4-r7,pc}
                  |L15.122|
00007a  21ff              MOVS     r1,#0xff              ;1277
00007c  3101              ADDS     r1,#1                 ;1277
00007e  6641              STR      r1,[r0,#0x64]         ;1277
000080  2b12              CMP      r3,#0x12              ;1279
000082  d002              BEQ      |L15.138|
000084  2b0f              CMP      r3,#0xf               ;1284
000086  d003              BEQ      |L15.144|
000088  e005              B        |L15.150|
                  |L15.138|
00008a  6306              STR      r6,[r0,#0x30]         ;1281
00008c  230a              MOVS     r3,#0xa               ;1282
00008e  e002              B        |L15.150|
                  |L15.144|
000090  1c71              ADDS     r1,r6,#1              ;1286
000092  6301              STR      r1,[r0,#0x30]         ;1286
000094  230c              MOVS     r3,#0xc               ;1287
                  |L15.150|
000096  2120              MOVS     r1,#0x20              ;1290
000098  e7e2              B        |L15.96|
                  |L15.154|
00009a  4671              MOV      r1,lr                 ;1298
00009c  6301              STR      r1,[r0,#0x30]         ;1298
00009e  2120              MOVS     r1,#0x20              ;1299
0000a0  230e              MOVS     r3,#0xe               ;1300
0000a2  e7dd              B        |L15.96|
                  |L15.164|
0000a4  2128              MOVS     r1,#0x28              ;1304
0000a6  230f              MOVS     r3,#0xf               ;1305
0000a8  e7da              B        |L15.96|
                  |L15.170|
0000aa  2101              MOVS     r1,#1                 ;1317
0000ac  0289              LSLS     r1,r1,#10             ;1317
0000ae  6641              STR      r1,[r0,#0x64]         ;1317
0000b0  2b10              CMP      r3,#0x10              ;1319
0000b2  d002              BEQ      |L15.186|
0000b4  2401              MOVS     r4,#1                 ;1325
                  |L15.182|
0000b6  2124              MOVS     r1,#0x24              ;1328
0000b8  e7d2              B        |L15.96|
                  |L15.186|
0000ba  6b41              LDR      r1,[r0,#0x34]         ;1321
0000bc  b2cd              UXTB     r5,r1                 ;1321
0000be  e7fa              B        |L15.182|
                  |L15.192|
0000c0  2101              MOVS     r1,#1                 ;1333
0000c2  0249              LSLS     r1,r1,#9              ;1333
0000c4  6641              STR      r1,[r0,#0x64]         ;1333
0000c6  2120              MOVS     r1,#0x20              ;1334
0000c8  2200              MOVS     r2,#0                 ;1335
0000ca  4694              MOV      r12,r2                ;1335
0000cc  e7c8              B        |L15.96|
;;;1353   
                          ENDP


                          AREA ||i.UI2C_ReadByteTwoRegs||, CODE, READONLY, ALIGN=1

                  UI2C_ReadByteTwoRegs PROC
;;;1472     */
;;;1473   uint8_t UI2C_ReadByteTwoRegs(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint16_t u16DataAddr)
000000  b5f7              PUSH     {r0-r2,r4-r7,lr}
;;;1474   {
;;;1475       uint8_t u8Xfering = 1U, u8Err = 0U, rdata = 0U, u8Addr = 1U, u8Ctrl = 0U;
000002  2201              MOVS     r2,#1
000004  2400              MOVS     r4,#0
000006  4696              MOV      lr,r2
000008  4694              MOV      r12,r2
;;;1476       enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;1477   
;;;1478       UI2C_START(ui2c);                                                       /* Send START */
00000a  6dc6              LDR      r6,[r0,#0x5c]
00000c  4625              MOV      r5,r4                 ;1475
00000e  4623              MOV      r3,r4                 ;1475
000010  2212              MOVS     r2,#0x12              ;1476
000012  2720              MOVS     r7,#0x20
000014  43be              BICS     r6,r6,r7
000016  2708              MOVS     r7,#8
000018  433e              ORRS     r6,r6,r7
00001a  65c6              STR      r6,[r0,#0x5c]
;;;1479   
;;;1480       while (u8Xfering)
;;;1481       {
;;;1482           while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
;;;1483   
;;;1484           switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
;;;1485           {
;;;1486           case UI2C_PROTSTS_STARIF_Msk:
;;;1487               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;1488   
;;;1489               if (eEvent == MASTER_SEND_START)
;;;1490               {
;;;1491                   UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);        /* Write SLA+W to Register UI2C_TXDAT */
00001c  004e              LSLS     r6,r1,#1
                  |L16.30|
00001e  6e41              LDR      r1,[r0,#0x64]         ;1482
000020  0489              LSLS     r1,r1,#18             ;1482
000022  0e89              LSRS     r1,r1,#26             ;1482
000024  d0fb              BEQ      |L16.30|
000026  6e41              LDR      r1,[r0,#0x64]         ;1484
000028  273f              MOVS     r7,#0x3f              ;1484
00002a  023f              LSLS     r7,r7,#8              ;1484
00002c  4039              ANDS     r1,r1,r7              ;1484
00002e  39ff              SUBS     r1,r1,#0xff           ;1484
000030  1e49              SUBS     r1,r1,#1              ;1484
000032  d023              BEQ      |L16.124|
000034  39ff              SUBS     r1,r1,#0xff           ;1484
000036  1e49              SUBS     r1,r1,#1              ;1484
000038  d04c              BEQ      |L16.212|
00003a  39ff              SUBS     r1,r1,#0xff           ;1484
00003c  39ff              SUBS     r1,r1,#0xff           ;1484
00003e  1e89              SUBS     r1,r1,#2              ;1484
000040  d03d              BEQ      |L16.190|
000042  2707              MOVS     r7,#7                 ;1484
000044  02bf              LSLS     r7,r7,#10             ;1484
000046  42b9              CMP      r1,r7                 ;1484
000048  d109              BNE      |L16.94|
;;;1492                   eEvent = MASTER_SEND_ADDRESS;
;;;1493               }
;;;1494               else if (eEvent == MASTER_SEND_REPEAT_START)
;;;1495               {
;;;1496                   UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x01U);        /* Write SLA+R to Register TXDAT */
;;;1497                   eEvent = MASTER_SEND_H_RD_ADDRESS;
;;;1498               }
;;;1499   
;;;1500               u8Ctrl = UI2C_CTL_PTRG;
;;;1501               break;
;;;1502   
;;;1503           case UI2C_PROTSTS_ACKIF_Msk:
;;;1504               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
00004a  2101              MOVS     r1,#1
00004c  0349              LSLS     r1,r1,#13
00004e  6641              STR      r1,[r0,#0x64]
;;;1505   
;;;1506               if (eEvent == MASTER_SEND_ADDRESS)
000050  2a0a              CMP      r2,#0xa
000052  d023              BEQ      |L16.156|
;;;1507               {
;;;1508                   UI2C_SET_DATA(ui2c, (uint8_t)((u16DataAddr & 0xFF00U) >> 8U));  /* Write Hi byte address of register */
;;;1509                   eEvent = MASTER_SEND_DATA;
;;;1510               }
;;;1511               else if (eEvent == MASTER_SEND_DATA)
000054  2a0e              CMP      r2,#0xe
000056  d026              BEQ      |L16.166|
;;;1512               {
;;;1513                   if (u8Addr)
;;;1514                   {
;;;1515                       UI2C_SET_DATA(ui2c, (uint8_t)(u16DataAddr & 0xFFU));       /* Write Lo byte address of register */
;;;1516                       u8Addr = 0;
;;;1517                   }
;;;1518                   else
;;;1519                   {
;;;1520                       u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STA);                /* Send repeat START signal */
;;;1521                       eEvent = MASTER_SEND_REPEAT_START;
;;;1522                   }
;;;1523               }
;;;1524               else
;;;1525               {
;;;1526                   /* SLA+R ACK */
;;;1527                   u8Ctrl = UI2C_CTL_PTRG;
000058  2320              MOVS     r3,#0x20
;;;1528                   eEvent = MASTER_READ_DATA;
00005a  2210              MOVS     r2,#0x10
00005c  e001              B        |L16.98|
                  |L16.94|
;;;1529               }
;;;1530   
;;;1531               break;
;;;1532   
;;;1533           case UI2C_PROTSTS_NACKIF_Msk:
;;;1534               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
;;;1535   
;;;1536               if (eEvent == MASTER_READ_DATA)
;;;1537               {
;;;1538                   rdata = (uint8_t) UI2C_GET_DATA(ui2c);                  /* Receive Data */
;;;1539               }
;;;1540               else
;;;1541               {
;;;1542                   u8Err = 1U;
;;;1543               }
;;;1544   
;;;1545               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
;;;1546   
;;;1547               break;
;;;1548   
;;;1549           case UI2C_PROTSTS_STORIF_Msk:
;;;1550               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
;;;1551               u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;1552               u8Xfering = 0U;
;;;1553               break;
;;;1554   
;;;1555           case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;1556           default:                                                        /* Unknow status */
;;;1557               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
00005e  2324              MOVS     r3,#0x24
;;;1558               u8Err = 1U;
000060  2401              MOVS     r4,#1
                  |L16.98|
;;;1559               break;
;;;1560           }
;;;1561   
;;;1562           UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_PROTCTL register */
000062  6dc1              LDR      r1,[r0,#0x5c]
000064  272e              MOVS     r7,#0x2e
000066  43b9              BICS     r1,r1,r7
000068  4319              ORRS     r1,r1,r3
00006a  65c1              STR      r1,[r0,#0x5c]
00006c  4671              MOV      r1,lr                 ;1480
00006e  2900              CMP      r1,#0                 ;1480
000070  d1d5              BNE      |L16.30|
;;;1563       }
;;;1564   
;;;1565       if (u8Err)
000072  2c00              CMP      r4,#0
000074  d000              BEQ      |L16.120|
;;;1566           rdata = 0U;                                                 /* If occurs error, return 0 */
000076  2500              MOVS     r5,#0
                  |L16.120|
;;;1567   
;;;1568       return rdata;                                                  /* Return read data */
000078  4628              MOV      r0,r5
;;;1569   }
00007a  bdfe              POP      {r1-r7,pc}
                  |L16.124|
00007c  21ff              MOVS     r1,#0xff              ;1487
00007e  3101              ADDS     r1,#1                 ;1487
000080  6641              STR      r1,[r0,#0x64]         ;1487
000082  2a12              CMP      r2,#0x12              ;1489
000084  d002              BEQ      |L16.140|
000086  2a0f              CMP      r2,#0xf               ;1494
000088  d003              BEQ      |L16.146|
00008a  e005              B        |L16.152|
                  |L16.140|
00008c  6306              STR      r6,[r0,#0x30]         ;1491
00008e  220a              MOVS     r2,#0xa               ;1492
000090  e002              B        |L16.152|
                  |L16.146|
000092  1c71              ADDS     r1,r6,#1              ;1496
000094  6301              STR      r1,[r0,#0x30]         ;1496
000096  220c              MOVS     r2,#0xc               ;1497
                  |L16.152|
000098  2320              MOVS     r3,#0x20              ;1500
00009a  e7e2              B        |L16.98|
                  |L16.156|
00009c  9902              LDR      r1,[sp,#8]            ;1508
00009e  0a09              LSRS     r1,r1,#8              ;1508
0000a0  6301              STR      r1,[r0,#0x30]         ;1508
0000a2  220e              MOVS     r2,#0xe               ;1509
0000a4  e7dd              B        |L16.98|
                  |L16.166|
0000a6  4661              MOV      r1,r12                ;1513
0000a8  2900              CMP      r1,#0                 ;1513
0000aa  d005              BEQ      |L16.184|
0000ac  9902              LDR      r1,[sp,#8]            ;1515
0000ae  b2c9              UXTB     r1,r1                 ;1515
0000b0  6301              STR      r1,[r0,#0x30]         ;1515
0000b2  2100              MOVS     r1,#0                 ;1516
0000b4  468c              MOV      r12,r1                ;1516
0000b6  e7d4              B        |L16.98|
                  |L16.184|
0000b8  2328              MOVS     r3,#0x28              ;1520
0000ba  220f              MOVS     r2,#0xf               ;1521
0000bc  e7d1              B        |L16.98|
                  |L16.190|
0000be  2101              MOVS     r1,#1                 ;1534
0000c0  0289              LSLS     r1,r1,#10             ;1534
0000c2  6641              STR      r1,[r0,#0x64]         ;1534
0000c4  2a10              CMP      r2,#0x10              ;1536
0000c6  d002              BEQ      |L16.206|
0000c8  2401              MOVS     r4,#1                 ;1542
                  |L16.202|
0000ca  2324              MOVS     r3,#0x24              ;1545
0000cc  e7c9              B        |L16.98|
                  |L16.206|
0000ce  6b41              LDR      r1,[r0,#0x34]         ;1538
0000d0  b2cd              UXTB     r5,r1                 ;1538
0000d2  e7fa              B        |L16.202|
                  |L16.212|
0000d4  2101              MOVS     r1,#1                 ;1550
0000d6  0249              LSLS     r1,r1,#9              ;1550
0000d8  6641              STR      r1,[r0,#0x64]         ;1550
0000da  2320              MOVS     r3,#0x20              ;1551
0000dc  2100              MOVS     r1,#0                 ;1552
0000de  468e              MOV      lr,r1                 ;1552
0000e0  e7bf              B        |L16.98|
;;;1570   
                          ENDP


                          AREA ||i.UI2C_ReadMultiBytes||, CODE, READONLY, ALIGN=1

                  UI2C_ReadMultiBytes PROC
;;;1179     */
;;;1180   uint32_t UI2C_ReadMultiBytes(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint8_t *rdata, uint32_t u32rLen)
000000  b5f0              PUSH     {r4-r7,lr}
;;;1181   {
000002  468c              MOV      r12,r1
;;;1182       uint8_t u8Xfering = 1U, u8Ctrl = 0U;
000004  2701              MOVS     r7,#1
;;;1183       uint32_t u32rxLen = 0U;
000006  2400              MOVS     r4,#0
;;;1184       enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;1185   
;;;1186       UI2C_START(ui2c);                                                       /* Send START */
000008  6dc1              LDR      r1,[r0,#0x5c]
00000a  469e              MOV      lr,r3                 ;1181
00000c  2612              MOVS     r6,#0x12              ;1184
00000e  2520              MOVS     r5,#0x20
000010  43a9              BICS     r1,r1,r5
000012  2508              MOVS     r5,#8
000014  4329              ORRS     r1,r1,r5
000016  65c1              STR      r1,[r0,#0x5c]
                  |L17.24|
;;;1187   
;;;1188       while (u8Xfering)
;;;1189       {
;;;1190           while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
000018  6e41              LDR      r1,[r0,#0x64]
00001a  0489              LSLS     r1,r1,#18
00001c  0e89              LSRS     r1,r1,#26
00001e  d0fb              BEQ      |L17.24|
;;;1191   
;;;1192           switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
000020  6e41              LDR      r1,[r0,#0x64]
000022  253f              MOVS     r5,#0x3f
000024  022d              LSLS     r5,r5,#8
000026  4029              ANDS     r1,r1,r5
000028  39ff              SUBS     r1,r1,#0xff
00002a  1e49              SUBS     r1,r1,#1
00002c  d018              BEQ      |L17.96|
00002e  39ff              SUBS     r1,r1,#0xff
000030  1e49              SUBS     r1,r1,#1
000032  d02c              BEQ      |L17.142|
000034  39ff              SUBS     r1,r1,#0xff
000036  39ff              SUBS     r1,r1,#0xff
000038  1e89              SUBS     r1,r1,#2
00003a  d01e              BEQ      |L17.122|
00003c  2507              MOVS     r5,#7
00003e  02ad              LSLS     r5,r5,#10
000040  42a9              CMP      r1,r5
000042  d122              BNE      |L17.138|
;;;1193           {
;;;1194           case UI2C_PROTSTS_STARIF_Msk:
;;;1195               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;1196               UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x01U);             /* Write SLA+R to Register UI2C_TXDAT */
;;;1197               eEvent = MASTER_SEND_H_RD_ADDRESS;
;;;1198               u8Ctrl = UI2C_CTL_PTRG;
;;;1199               break;
;;;1200   
;;;1201           case UI2C_PROTSTS_ACKIF_Msk:
;;;1202               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
000044  2101              MOVS     r1,#1
000046  0349              LSLS     r1,r1,#13
000048  6641              STR      r1,[r0,#0x64]
;;;1203   
;;;1204               if (eEvent == MASTER_SEND_H_RD_ADDRESS)
00004a  2e0c              CMP      r6,#0xc
00004c  d012              BEQ      |L17.116|
;;;1205               {
;;;1206                   u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_AA);
;;;1207                   eEvent = MASTER_READ_DATA;
;;;1208               }
;;;1209               else
;;;1210               {
;;;1211                   rdata[u32rxLen++] = (unsigned char) UI2C_GET_DATA(ui2c);    /* Receive Data */
00004e  6b41              LDR      r1,[r0,#0x34]
000050  5511              STRB     r1,[r2,r4]
;;;1212   
;;;1213                   if (u32rxLen < (u32rLen - 1U))
000052  4671              MOV      r1,lr
000054  1e49              SUBS     r1,r1,#1
000056  1c64              ADDS     r4,r4,#1
000058  428c              CMP      r4,r1
00005a  d209              BCS      |L17.112|
;;;1214                       u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_AA);
00005c  2522              MOVS     r5,#0x22
00005e  e01b              B        |L17.152|
                  |L17.96|
000060  21ff              MOVS     r1,#0xff              ;1195
000062  3101              ADDS     r1,#1                 ;1195
000064  6641              STR      r1,[r0,#0x64]         ;1195
000066  4661              MOV      r1,r12                ;1196
000068  0049              LSLS     r1,r1,#1              ;1196
00006a  1c49              ADDS     r1,r1,#1              ;1196
00006c  6301              STR      r1,[r0,#0x30]         ;1196
00006e  260c              MOVS     r6,#0xc               ;1197
                  |L17.112|
;;;1215                   else
;;;1216                       u8Ctrl = UI2C_CTL_PTRG;
000070  2520              MOVS     r5,#0x20
000072  e011              B        |L17.152|
                  |L17.116|
000074  2522              MOVS     r5,#0x22              ;1206
000076  2610              MOVS     r6,#0x10              ;1207
000078  e00e              B        |L17.152|
                  |L17.122|
;;;1217               }
;;;1218   
;;;1219               break;
;;;1220   
;;;1221           case UI2C_PROTSTS_NACKIF_Msk:
;;;1222               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
00007a  2101              MOVS     r1,#1
00007c  0289              LSLS     r1,r1,#10
00007e  6641              STR      r1,[r0,#0x64]
;;;1223   
;;;1224               if (eEvent == MASTER_READ_DATA)
000080  2e10              CMP      r6,#0x10
000082  d102              BNE      |L17.138|
;;;1225                   rdata[u32rxLen++] = (unsigned char) UI2C_GET_DATA(ui2c);    /* Receive Data */
000084  6b41              LDR      r1,[r0,#0x34]
000086  5511              STRB     r1,[r2,r4]
000088  1c64              ADDS     r4,r4,#1
                  |L17.138|
;;;1226   
;;;1227               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
00008a  2524              MOVS     r5,#0x24
;;;1228   
;;;1229               break;
00008c  e004              B        |L17.152|
                  |L17.142|
;;;1230   
;;;1231           case UI2C_PROTSTS_STORIF_Msk:
;;;1232               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
00008e  2101              MOVS     r1,#1
000090  0249              LSLS     r1,r1,#9
000092  6641              STR      r1,[r0,#0x64]
;;;1233               u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
000094  2520              MOVS     r5,#0x20
;;;1234               u8Xfering = 0U;
000096  2700              MOVS     r7,#0
                  |L17.152|
;;;1235               break;
;;;1236   
;;;1237           case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;1238           default:                                                        /* Unknow status */
;;;1239               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;1240               break;
;;;1241           }
;;;1242   
;;;1243           UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_PROTCTL register */
000098  6dc1              LDR      r1,[r0,#0x5c]
00009a  232e              MOVS     r3,#0x2e
00009c  4399              BICS     r1,r1,r3
00009e  4329              ORRS     r1,r1,r5
0000a0  65c1              STR      r1,[r0,#0x5c]
0000a2  2f00              CMP      r7,#0                 ;1188
0000a4  d1b8              BNE      |L17.24|
;;;1244       }
;;;1245   
;;;1246       return u32rxLen;                                                        /* Return bytes length that have been received */
0000a6  4620              MOV      r0,r4
;;;1247   }
0000a8  bdf0              POP      {r4-r7,pc}
;;;1248   
                          ENDP


                          AREA ||i.UI2C_ReadMultiBytesOneReg||, CODE, READONLY, ALIGN=1

                  UI2C_ReadMultiBytesOneReg PROC
;;;1368     */
;;;1369   uint32_t UI2C_ReadMultiBytesOneReg(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint8_t u8DataAddr, uint8_t *rdata, uint32_t u32rLen)
000000  b5f0              PUSH     {r4-r7,lr}
;;;1370   {
000002  4696              MOV      lr,r2
;;;1371       uint8_t u8Xfering = 1U, u8Ctrl = 0U;
000004  2601              MOVS     r6,#1
;;;1372       uint32_t u32rxLen = 0U;
000006  2500              MOVS     r5,#0
;;;1373       enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;1374   
;;;1375       UI2C_START(ui2c);                                                       /* Send START */
000008  6dc2              LDR      r2,[r0,#0x5c]
00000a  469c              MOV      r12,r3                ;1370
00000c  2412              MOVS     r4,#0x12              ;1373
00000e  2320              MOVS     r3,#0x20
000010  439a              BICS     r2,r2,r3
000012  2308              MOVS     r3,#8
000014  431a              ORRS     r2,r2,r3
000016  65c2              STR      r2,[r0,#0x5c]
;;;1376   
;;;1377       while (u8Xfering)
;;;1378       {
;;;1379           while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
;;;1380   
;;;1381           switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
;;;1382           {
;;;1383           case UI2C_PROTSTS_STARIF_Msk:
;;;1384               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;1385   
;;;1386               if (eEvent == MASTER_SEND_START)
;;;1387               {
;;;1388                   UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);         /* Write SLA+W to Register UI2C_TXDAT */
000018  004f              LSLS     r7,r1,#1
                  |L18.26|
00001a  6e41              LDR      r1,[r0,#0x64]         ;1379
00001c  0489              LSLS     r1,r1,#18             ;1379
00001e  0e89              LSRS     r1,r1,#26             ;1379
000020  d0fb              BEQ      |L18.26|
000022  6e41              LDR      r1,[r0,#0x64]         ;1381
000024  233f              MOVS     r3,#0x3f              ;1381
000026  021b              LSLS     r3,r3,#8              ;1381
000028  4019              ANDS     r1,r1,r3              ;1381
00002a  39ff              SUBS     r1,r1,#0xff           ;1381
00002c  1e49              SUBS     r1,r1,#1              ;1381
00002e  d01d              BEQ      |L18.108|
000030  39ff              SUBS     r1,r1,#0xff           ;1381
000032  1e49              SUBS     r1,r1,#1              ;1381
000034  d040              BEQ      |L18.184|
000036  39ff              SUBS     r1,r1,#0xff           ;1381
000038  39ff              SUBS     r1,r1,#0xff           ;1381
00003a  1e89              SUBS     r1,r1,#2              ;1381
00003c  d031              BEQ      |L18.162|
00003e  2307              MOVS     r3,#7                 ;1381
000040  029b              LSLS     r3,r3,#10             ;1381
000042  4299              CMP      r1,r3                 ;1381
000044  d136              BNE      |L18.180|
;;;1389                   eEvent = MASTER_SEND_ADDRESS;
;;;1390               }
;;;1391               else if (eEvent == MASTER_SEND_REPEAT_START)
;;;1392               {
;;;1393                   UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x01U);        /* Write SLA+R to Register TXDAT */
;;;1394                   eEvent = MASTER_SEND_H_RD_ADDRESS;
;;;1395               }
;;;1396   
;;;1397               u8Ctrl = UI2C_CTL_PTRG;
;;;1398               break;
;;;1399   
;;;1400           case UI2C_PROTSTS_ACKIF_Msk:
;;;1401               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
000046  2101              MOVS     r1,#1
000048  0349              LSLS     r1,r1,#13
00004a  6641              STR      r1,[r0,#0x64]
;;;1402   
;;;1403               if (eEvent == MASTER_SEND_ADDRESS)
00004c  2c0a              CMP      r4,#0xa
00004e  d01d              BEQ      |L18.140|
;;;1404               {
;;;1405                   UI2C_SET_DATA(ui2c, u8DataAddr);                        /* Write data address of register */
;;;1406                   u8Ctrl = UI2C_CTL_PTRG;
;;;1407                   eEvent = MASTER_SEND_DATA;
;;;1408               }
;;;1409               else if (eEvent == MASTER_SEND_DATA)
000050  2c0e              CMP      r4,#0xe
000052  d020              BEQ      |L18.150|
;;;1410               {
;;;1411                   u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STA);                /* Send repeat START signal */
;;;1412                   eEvent = MASTER_SEND_REPEAT_START;
;;;1413               }
;;;1414               else if (eEvent == MASTER_SEND_H_RD_ADDRESS)
000054  2c0c              CMP      r4,#0xc
000056  d021              BEQ      |L18.156|
;;;1415               {
;;;1416                   /* SLA+R ACK */
;;;1417                   u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_AA);
;;;1418                   eEvent = MASTER_READ_DATA;
;;;1419               }
;;;1420               else
;;;1421               {
;;;1422                   rdata[u32rxLen++] = (uint8_t) UI2C_GET_DATA(ui2c);      /* Receive Data */
000058  6b41              LDR      r1,[r0,#0x34]
00005a  4663              MOV      r3,r12
00005c  5559              STRB     r1,[r3,r5]
;;;1423   
;;;1424                   if (u32rxLen < u32rLen - 1U)
00005e  9905              LDR      r1,[sp,#0x14]
000060  1c6d              ADDS     r5,r5,#1
000062  1e49              SUBS     r1,r1,#1
000064  428d              CMP      r5,r1
000066  d20f              BCS      |L18.136|
;;;1425                       u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_AA);
000068  2122              MOVS     r1,#0x22
00006a  e02a              B        |L18.194|
                  |L18.108|
00006c  21ff              MOVS     r1,#0xff              ;1384
00006e  3101              ADDS     r1,#1                 ;1384
000070  6641              STR      r1,[r0,#0x64]         ;1384
000072  2c12              CMP      r4,#0x12              ;1386
000074  d002              BEQ      |L18.124|
000076  2c0f              CMP      r4,#0xf               ;1391
000078  d003              BEQ      |L18.130|
00007a  e005              B        |L18.136|
                  |L18.124|
00007c  6307              STR      r7,[r0,#0x30]         ;1388
00007e  240a              MOVS     r4,#0xa               ;1389
000080  e002              B        |L18.136|
                  |L18.130|
000082  1c79              ADDS     r1,r7,#1              ;1393
000084  6301              STR      r1,[r0,#0x30]         ;1393
000086  240c              MOVS     r4,#0xc               ;1394
                  |L18.136|
;;;1426                   else
;;;1427                       u8Ctrl = UI2C_CTL_PTRG;
000088  2120              MOVS     r1,#0x20
00008a  e01a              B        |L18.194|
                  |L18.140|
00008c  4671              MOV      r1,lr                 ;1405
00008e  6301              STR      r1,[r0,#0x30]         ;1405
000090  2120              MOVS     r1,#0x20              ;1406
000092  240e              MOVS     r4,#0xe               ;1407
000094  e015              B        |L18.194|
                  |L18.150|
000096  2128              MOVS     r1,#0x28              ;1411
000098  240f              MOVS     r4,#0xf               ;1412
00009a  e012              B        |L18.194|
                  |L18.156|
00009c  2122              MOVS     r1,#0x22              ;1417
00009e  2410              MOVS     r4,#0x10              ;1418
0000a0  e00f              B        |L18.194|
                  |L18.162|
;;;1428               }
;;;1429   
;;;1430               break;
;;;1431   
;;;1432           case UI2C_PROTSTS_NACKIF_Msk:
;;;1433               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
0000a2  2101              MOVS     r1,#1
0000a4  0289              LSLS     r1,r1,#10
0000a6  6641              STR      r1,[r0,#0x64]
;;;1434   
;;;1435               if (eEvent == MASTER_READ_DATA)
0000a8  2c10              CMP      r4,#0x10
0000aa  d103              BNE      |L18.180|
;;;1436                   rdata[u32rxLen++] = (uint8_t) UI2C_GET_DATA(ui2c);                  /* Receive Data */
0000ac  6b41              LDR      r1,[r0,#0x34]
0000ae  4663              MOV      r3,r12
0000b0  5559              STRB     r1,[r3,r5]
0000b2  1c6d              ADDS     r5,r5,#1
                  |L18.180|
;;;1437   
;;;1438               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
0000b4  2124              MOVS     r1,#0x24
;;;1439   
;;;1440               break;
0000b6  e004              B        |L18.194|
                  |L18.184|
;;;1441   
;;;1442           case UI2C_PROTSTS_STORIF_Msk:
;;;1443               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
0000b8  2101              MOVS     r1,#1
0000ba  0249              LSLS     r1,r1,#9
0000bc  6641              STR      r1,[r0,#0x64]
;;;1444               u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
0000be  2120              MOVS     r1,#0x20
;;;1445               u8Xfering = 0U;
0000c0  2600              MOVS     r6,#0
                  |L18.194|
;;;1446               break;
;;;1447   
;;;1448           case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;1449           default:                                                        /* Unknow status */
;;;1450               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;1451               break;
;;;1452           }
;;;1453   
;;;1454           UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_PROTCTL register */
0000c2  6dc2              LDR      r2,[r0,#0x5c]
0000c4  232e              MOVS     r3,#0x2e
0000c6  439a              BICS     r2,r2,r3
0000c8  430a              ORRS     r2,r2,r1
0000ca  65c2              STR      r2,[r0,#0x5c]
0000cc  2e00              CMP      r6,#0                 ;1377
0000ce  d1a4              BNE      |L18.26|
;;;1455       }
;;;1456   
;;;1457       return u32rxLen;                                               /* Return bytes length that have been received */
0000d0  4628              MOV      r0,r5
;;;1458   }
0000d2  bdf0              POP      {r4-r7,pc}
;;;1459   
                          ENDP


                          AREA ||i.UI2C_ReadMultiBytesTwoRegs||, CODE, READONLY, ALIGN=1

                  UI2C_ReadMultiBytesTwoRegs PROC
;;;1585     */
;;;1586   uint32_t UI2C_ReadMultiBytesTwoRegs(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint16_t u16DataAddr, uint8_t *rdata, uint32_t u32rLen)
000000  b5ff              PUSH     {r0-r7,lr}
;;;1587   {
000002  4696              MOV      lr,r2
000004  460a              MOV      r2,r1
;;;1588       uint8_t u8Xfering = 1U, u8Addr = 1U, u8Ctrl = 0U;
000006  2101              MOVS     r1,#1
000008  2400              MOVS     r4,#0
;;;1589       uint32_t u32rxLen = 0U;
;;;1590       enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;1591   
;;;1592       UI2C_START(ui2c);                                                       /* Send START */
00000a  6dc7              LDR      r7,[r0,#0x5c]
00000c  468c              MOV      r12,r1                ;1588
00000e  460e              MOV      r6,r1                 ;1588
000010  4625              MOV      r5,r4                 ;1589
000012  2312              MOVS     r3,#0x12              ;1590
000014  2120              MOVS     r1,#0x20
000016  438f              BICS     r7,r7,r1
000018  2108              MOVS     r1,#8
00001a  430f              ORRS     r7,r7,r1
00001c  65c7              STR      r7,[r0,#0x5c]
;;;1593   
;;;1594       while (u8Xfering)
;;;1595       {
;;;1596           while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
;;;1597   
;;;1598           switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
;;;1599           {
;;;1600           case UI2C_PROTSTS_STARIF_Msk:
;;;1601               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;1602   
;;;1603               if (eEvent == MASTER_SEND_START)
;;;1604               {
;;;1605                   UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);         /* Write SLA+W to Register UI2C_TXDAT */
00001e  0051              LSLS     r1,r2,#1
                  |L19.32|
000020  6e47              LDR      r7,[r0,#0x64]         ;1596
000022  04bf              LSLS     r7,r7,#18             ;1596
000024  0ebf              LSRS     r7,r7,#26             ;1596
000026  d0fb              BEQ      |L19.32|
000028  6e47              LDR      r7,[r0,#0x64]         ;1598
00002a  223f              MOVS     r2,#0x3f              ;1598
00002c  0212              LSLS     r2,r2,#8              ;1598
00002e  4017              ANDS     r7,r7,r2              ;1598
000030  3fff              SUBS     r7,r7,#0xff           ;1598
000032  1e7f              SUBS     r7,r7,#1              ;1598
000034  d01d              BEQ      |L19.114|
000036  3fff              SUBS     r7,r7,#0xff           ;1598
000038  1e7f              SUBS     r7,r7,#1              ;1598
00003a  d047              BEQ      |L19.204|
00003c  3fff              SUBS     r7,r7,#0xff           ;1598
00003e  3fff              SUBS     r7,r7,#0xff           ;1598
000040  1ebf              SUBS     r7,r7,#2              ;1598
000042  d038              BEQ      |L19.182|
000044  2207              MOVS     r2,#7                 ;1598
000046  0292              LSLS     r2,r2,#10             ;1598
000048  4297              CMP      r7,r2                 ;1598
00004a  d13d              BNE      |L19.200|
;;;1606                   eEvent = MASTER_SEND_ADDRESS;
;;;1607               }
;;;1608               else if (eEvent == MASTER_SEND_REPEAT_START)
;;;1609               {
;;;1610                   UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x01U);        /* Write SLA+R to Register TXDAT */
;;;1611                   eEvent = MASTER_SEND_H_RD_ADDRESS;
;;;1612               }
;;;1613   
;;;1614               u8Ctrl = UI2C_CTL_PTRG;
;;;1615               break;
;;;1616   
;;;1617           case UI2C_PROTSTS_ACKIF_Msk:
;;;1618               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
00004c  2701              MOVS     r7,#1
00004e  037f              LSLS     r7,r7,#13
000050  6647              STR      r7,[r0,#0x64]
;;;1619   
;;;1620               if (eEvent == MASTER_SEND_ADDRESS)
000052  2b0a              CMP      r3,#0xa
000054  d01d              BEQ      |L19.146|
;;;1621               {
;;;1622                   UI2C_SET_DATA(ui2c, (uint8_t)((u16DataAddr & 0xFF00U) >> 8U));  /* Write Hi byte address of register */
;;;1623                   eEvent = MASTER_SEND_DATA;
;;;1624               }
;;;1625               else if (eEvent == MASTER_SEND_DATA)
000056  2b0e              CMP      r3,#0xe
000058  d020              BEQ      |L19.156|
;;;1626               {
;;;1627                   if (u8Addr)
;;;1628                   {
;;;1629                       UI2C_SET_DATA(ui2c, (uint8_t)(u16DataAddr & 0xFFU));       /* Write Lo byte address of register */
;;;1630                       u8Addr = 0;
;;;1631                   }
;;;1632                   else
;;;1633                   {
;;;1634                       u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STA);                /* Send repeat START signal */
;;;1635                       eEvent = MASTER_SEND_REPEAT_START;
;;;1636                   }
;;;1637               }
;;;1638               else if (eEvent == MASTER_SEND_H_RD_ADDRESS)
00005a  2b0c              CMP      r3,#0xc
00005c  d028              BEQ      |L19.176|
;;;1639               {
;;;1640                   u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_AA);
;;;1641                   eEvent = MASTER_READ_DATA;
;;;1642               }
;;;1643               else
;;;1644               {
;;;1645                   rdata[u32rxLen++] = (uint8_t) UI2C_GET_DATA(ui2c);      /* Receive Data */
00005e  6b44              LDR      r4,[r0,#0x34]
000060  9f03              LDR      r7,[sp,#0xc]
000062  557c              STRB     r4,[r7,r5]
;;;1646   
;;;1647                   if (u32rxLen < u32rLen - 1U)
000064  9c09              LDR      r4,[sp,#0x24]
000066  1c6d              ADDS     r5,r5,#1
000068  1e64              SUBS     r4,r4,#1
00006a  42a5              CMP      r5,r4
00006c  d20f              BCS      |L19.142|
;;;1648                       u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_AA);
00006e  2422              MOVS     r4,#0x22
000070  e032              B        |L19.216|
                  |L19.114|
000072  22ff              MOVS     r2,#0xff              ;1601
000074  3201              ADDS     r2,#1                 ;1601
000076  6642              STR      r2,[r0,#0x64]         ;1601
000078  2b12              CMP      r3,#0x12              ;1603
00007a  d002              BEQ      |L19.130|
00007c  2b0f              CMP      r3,#0xf               ;1608
00007e  d003              BEQ      |L19.136|
000080  e005              B        |L19.142|
                  |L19.130|
000082  6301              STR      r1,[r0,#0x30]         ;1605
000084  230a              MOVS     r3,#0xa               ;1606
000086  e002              B        |L19.142|
                  |L19.136|
000088  1c4a              ADDS     r2,r1,#1              ;1610
00008a  6302              STR      r2,[r0,#0x30]         ;1610
00008c  230c              MOVS     r3,#0xc               ;1611
                  |L19.142|
;;;1649                   else
;;;1650                       u8Ctrl = UI2C_CTL_PTRG;
00008e  2420              MOVS     r4,#0x20
000090  e022              B        |L19.216|
                  |L19.146|
000092  4672              MOV      r2,lr                 ;1622
000094  0a12              LSRS     r2,r2,#8              ;1622
000096  6302              STR      r2,[r0,#0x30]         ;1622
000098  230e              MOVS     r3,#0xe               ;1623
00009a  e01d              B        |L19.216|
                  |L19.156|
00009c  2e00              CMP      r6,#0                 ;1627
00009e  d004              BEQ      |L19.170|
0000a0  4672              MOV      r2,lr                 ;1629
0000a2  b2d2              UXTB     r2,r2                 ;1629
0000a4  6302              STR      r2,[r0,#0x30]         ;1629
0000a6  2600              MOVS     r6,#0                 ;1630
0000a8  e016              B        |L19.216|
                  |L19.170|
0000aa  2428              MOVS     r4,#0x28              ;1634
0000ac  230f              MOVS     r3,#0xf               ;1635
0000ae  e013              B        |L19.216|
                  |L19.176|
0000b0  2422              MOVS     r4,#0x22              ;1640
0000b2  2310              MOVS     r3,#0x10              ;1641
0000b4  e010              B        |L19.216|
                  |L19.182|
;;;1651               }
;;;1652   
;;;1653               break;
;;;1654   
;;;1655           case UI2C_PROTSTS_NACKIF_Msk:
;;;1656               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
0000b6  2201              MOVS     r2,#1
0000b8  0292              LSLS     r2,r2,#10
0000ba  6642              STR      r2,[r0,#0x64]
;;;1657   
;;;1658               if (eEvent == MASTER_READ_DATA)
0000bc  2b10              CMP      r3,#0x10
0000be  d103              BNE      |L19.200|
;;;1659                   rdata[u32rxLen++] = (uint8_t) UI2C_GET_DATA(ui2c);                  /* Receive Data */
0000c0  6b44              LDR      r4,[r0,#0x34]
0000c2  9f03              LDR      r7,[sp,#0xc]
0000c4  557c              STRB     r4,[r7,r5]
0000c6  1c6d              ADDS     r5,r5,#1
                  |L19.200|
;;;1660   
;;;1661               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
0000c8  2424              MOVS     r4,#0x24
;;;1662   
;;;1663               break;
0000ca  e005              B        |L19.216|
                  |L19.204|
;;;1664   
;;;1665           case UI2C_PROTSTS_STORIF_Msk:
;;;1666               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
0000cc  2201              MOVS     r2,#1
0000ce  0252              LSLS     r2,r2,#9
0000d0  6642              STR      r2,[r0,#0x64]
;;;1667               u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
0000d2  2420              MOVS     r4,#0x20
;;;1668               u8Xfering = 0U;
0000d4  2200              MOVS     r2,#0
0000d6  4694              MOV      r12,r2
                  |L19.216|
;;;1669               break;
;;;1670   
;;;1671           case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;1672           default:                                                        /* Unknow status */
;;;1673               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;1674               break;
;;;1675           }
;;;1676   
;;;1677           UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_PROTCTL register */
0000d8  6dc7              LDR      r7,[r0,#0x5c]
0000da  222e              MOVS     r2,#0x2e
0000dc  4397              BICS     r7,r7,r2
0000de  4327              ORRS     r7,r7,r4
0000e0  65c7              STR      r7,[r0,#0x5c]
0000e2  4662              MOV      r2,r12                ;1594
0000e4  2a00              CMP      r2,#0                 ;1594
0000e6  d19b              BNE      |L19.32|
;;;1678       }
;;;1679   
;;;1680       return u32rxLen;                                                        /* Return bytes length that have been received */
0000e8  4628              MOV      r0,r5
;;;1681   }
0000ea  b004              ADD      sp,sp,#0x10
0000ec  bdf0              POP      {r4-r7,pc}
;;;1682   
                          ENDP


                          AREA ||i.UI2C_SetBusClockFreq||, CODE, READONLY, ALIGN=2

                  UI2C_SetBusClockFreq PROC
;;;303     */
;;;304    uint32_t UI2C_SetBusClockFreq(UI2C_T *ui2c, uint32_t u32BusClock)
000000  b570              PUSH     {r4-r6,lr}
;;;305    {
000002  4604              MOV      r4,r0
;;;306        uint32_t u32ClkDiv;
;;;307        uint32_t u32Pclk;
;;;308    
;;;309        if (ui2c == UI2C0)
000004  4811              LDR      r0,|L20.76|
000006  460e              MOV      r6,r1                 ;305
000008  4284              CMP      r4,r0
00000a  d102              BNE      |L20.18|
;;;310        {
;;;311            u32Pclk = CLK_GetPCLK0Freq();
00000c  f7fffffe          BL       CLK_GetPCLK0Freq
000010  e001              B        |L20.22|
                  |L20.18|
;;;312        }
;;;313        else
;;;314        {
;;;315            u32Pclk = CLK_GetPCLK1Freq();
000012  f7fffffe          BL       CLK_GetPCLK1Freq
                  |L20.22|
000016  4605              MOV      r5,r0
;;;316        }
;;;317    
;;;318        u32ClkDiv = (uint32_t)((((((u32Pclk / 2U) * 10U) / (u32BusClock)) + 5U) / 10U) - 1U); /* Compute proper divider for USCI_I2C clock */
000018  0840              LSRS     r0,r0,#1
00001a  210a              MOVS     r1,#0xa
00001c  4348              MULS     r0,r1,r0
00001e  4631              MOV      r1,r6
000020  f7fffffe          BL       __aeabi_uidivmod
000024  210a              MOVS     r1,#0xa
000026  1d40              ADDS     r0,r0,#5
000028  f7fffffe          BL       __aeabi_uidivmod
;;;319    
;;;320        /* Set USCI_I2C bus clock */
;;;321        ui2c->BRGEN &= ~UI2C_BRGEN_CLKDIV_Msk;
00002c  68a1              LDR      r1,[r4,#8]
00002e  4a08              LDR      r2,|L20.80|
000030  4011              ANDS     r1,r1,r2
000032  60a1              STR      r1,[r4,#8]
;;;322        ui2c->BRGEN |= (u32ClkDiv << UI2C_BRGEN_CLKDIV_Pos);
000034  68a1              LDR      r1,[r4,#8]
000036  1e40              SUBS     r0,r0,#1
000038  0402              LSLS     r2,r0,#16
00003a  4311              ORRS     r1,r1,r2
00003c  60a1              STR      r1,[r4,#8]
;;;323    
;;;324        return (u32Pclk / ((u32ClkDiv + 1U) << 1U));
00003e  0041              LSLS     r1,r0,#1
000040  4628              MOV      r0,r5
000042  1c89              ADDS     r1,r1,#2
000044  f7fffffe          BL       __aeabi_uidivmod
;;;325    }
000048  bd70              POP      {r4-r6,pc}
;;;326    
                          ENDP

00004a  0000              DCW      0x0000
                  |L20.76|
                          DCD      0x400d0000
                  |L20.80|
                          DCD      0xfc00ffff

                          AREA ||i.UI2C_SetData||, CODE, READONLY, ALIGN=1

                  UI2C_SetData PROC
;;;496     */
;;;497    void UI2C_SetData(UI2C_T *ui2c, uint8_t u8Data)
000000  6301              STR      r1,[r0,#0x30]
;;;498    {
;;;499        ui2c->TXDAT = u8Data;
;;;500    }
000002  4770              BX       lr
;;;501    
                          ENDP


                          AREA ||i.UI2C_SetSlaveAddr||, CODE, READONLY, ALIGN=1

                  UI2C_SetSlaveAddr PROC
;;;515     */
;;;516    void UI2C_SetSlaveAddr(UI2C_T *ui2c, uint8_t u8SlaveNo, uint16_t u16SlaveAddr, uint8_t u8GCMode)
000000  2900              CMP      r1,#0
;;;517    {
000002  d001              BEQ      |L22.8|
;;;518        if (u8SlaveNo)
;;;519        {
;;;520            ui2c->DEVADDR1  = u16SlaveAddr;
000004  6482              STR      r2,[r0,#0x48]
000006  e000              B        |L22.10|
                  |L22.8|
;;;521        }
;;;522        else
;;;523        {
;;;524            ui2c->DEVADDR0  = u16SlaveAddr;
000008  6442              STR      r2,[r0,#0x44]
                  |L22.10|
;;;525        }
;;;526    
;;;527        ui2c->PROTCTL  = (ui2c->PROTCTL & ~UI2C_PROTCTL_GCFUNC_Msk) | u8GCMode;
00000a  6dc1              LDR      r1,[r0,#0x5c]
00000c  0849              LSRS     r1,r1,#1
00000e  0049              LSLS     r1,r1,#1
000010  4319              ORRS     r1,r1,r3
000012  65c1              STR      r1,[r0,#0x5c]
;;;528    }
000014  4770              BX       lr
;;;529    
                          ENDP


                          AREA ||i.UI2C_SetSlaveAddrMask||, CODE, READONLY, ALIGN=1

                  UI2C_SetSlaveAddrMask PROC
;;;541     */
;;;542    void UI2C_SetSlaveAddrMask(UI2C_T *ui2c, uint8_t u8SlaveNo, uint16_t u16SlaveAddrMask)
000000  2900              CMP      r1,#0
;;;543    {
000002  d001              BEQ      |L23.8|
;;;544        if (u8SlaveNo)
;;;545        {
;;;546            ui2c->ADDRMSK1  = u16SlaveAddrMask;
000004  6502              STR      r2,[r0,#0x50]
;;;547        }
;;;548        else
;;;549        {
;;;550            ui2c->ADDRMSK0  = u16SlaveAddrMask;
;;;551        }
;;;552    }
000006  4770              BX       lr
                  |L23.8|
000008  64c2              STR      r2,[r0,#0x4c]         ;550
00000a  4770              BX       lr
;;;553    
                          ENDP


                          AREA ||i.UI2C_Trigger||, CODE, READONLY, ALIGN=1

                  UI2C_Trigger PROC
;;;111     */
;;;112    void UI2C_Trigger(UI2C_T *ui2c, uint8_t u8Start, uint8_t u8Stop, uint8_t u8Ptrg, uint8_t u8Ack)
000000  b5f0              PUSH     {r4-r7,lr}
;;;113    {
;;;114        uint32_t u32Reg = 0U;
;;;115        uint32_t u32Val = ui2c->PROTCTL & ~(UI2C_PROTCTL_STA_Msk | UI2C_PROTCTL_STO_Msk | UI2C_PROTCTL_AA_Msk);
000002  9e05              LDR      r6,[sp,#0x14]
000004  6dc5              LDR      r5,[r0,#0x5c]
000006  2400              MOVS     r4,#0                 ;114
000008  270e              MOVS     r7,#0xe
00000a  43bd              BICS     r5,r5,r7
;;;116    
;;;117        if (u8Start)
00000c  2900              CMP      r1,#0
00000e  d000              BEQ      |L24.18|
;;;118        {
;;;119            u32Reg |= UI2C_PROTCTL_STA_Msk;
000010  2408              MOVS     r4,#8
                  |L24.18|
;;;120        }
;;;121    
;;;122        if (u8Stop)
000012  2a00              CMP      r2,#0
000014  d001              BEQ      |L24.26|
;;;123        {
;;;124            u32Reg |= UI2C_PROTCTL_STO_Msk;
000016  2104              MOVS     r1,#4
000018  430c              ORRS     r4,r4,r1
                  |L24.26|
;;;125        }
;;;126    
;;;127        if (u8Ptrg)
00001a  2b00              CMP      r3,#0
00001c  d001              BEQ      |L24.34|
;;;128        {
;;;129            u32Reg |= UI2C_PROTCTL_PTRG_Msk;
00001e  2120              MOVS     r1,#0x20
000020  430c              ORRS     r4,r4,r1
                  |L24.34|
;;;130        }
;;;131    
;;;132        if (u8Ack)
000022  2e00              CMP      r6,#0
000024  d001              BEQ      |L24.42|
;;;133        {
;;;134            u32Reg |= UI2C_PROTCTL_AA_Msk;
000026  2102              MOVS     r1,#2
000028  430c              ORRS     r4,r4,r1
                  |L24.42|
;;;135        }
;;;136    
;;;137        ui2c->PROTCTL = u32Val | u32Reg;
00002a  4325              ORRS     r5,r5,r4
00002c  65c5              STR      r5,[r0,#0x5c]
;;;138    }
00002e  bdf0              POP      {r4-r7,pc}
;;;139    
                          ENDP


                          AREA ||i.UI2C_WriteByte||, CODE, READONLY, ALIGN=1

                  UI2C_WriteByte PROC
;;;629    
;;;630    uint8_t UI2C_WriteByte(UI2C_T *ui2c, uint8_t u8SlaveAddr, const uint8_t data)
000000  b5f0              PUSH     {r4-r7,lr}
;;;631    {
;;;632        uint8_t u8Xfering = 1U, u8Err = 0U, u8Ctrl = 0U;
000002  2500              MOVS     r5,#0
000004  2601              MOVS     r6,#1
;;;633        enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;634    
;;;635        UI2C_START(ui2c);                                                       /* Send START */
000006  6dc7              LDR      r7,[r0,#0x5c]
000008  4694              MOV      r12,r2                ;631
00000a  462b              MOV      r3,r5                 ;632
00000c  2412              MOVS     r4,#0x12              ;633
00000e  2220              MOVS     r2,#0x20
000010  4397              BICS     r7,r7,r2
000012  2208              MOVS     r2,#8
000014  4317              ORRS     r7,r7,r2
000016  65c7              STR      r7,[r0,#0x5c]
                  |L25.24|
;;;636    
;;;637        while (u8Xfering)
;;;638        {
;;;639            while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
000018  6e42              LDR      r2,[r0,#0x64]
00001a  0492              LSLS     r2,r2,#18
00001c  0e92              LSRS     r2,r2,#26
00001e  d0fb              BEQ      |L25.24|
;;;640    
;;;641            switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
000020  6e47              LDR      r7,[r0,#0x64]
000022  223f              MOVS     r2,#0x3f
000024  0212              LSLS     r2,r2,#8
000026  4017              ANDS     r7,r7,r2
000028  3fff              SUBS     r7,r7,#0xff
00002a  1e7f              SUBS     r7,r7,#1
00002c  d011              BEQ      |L25.82|
00002e  3fff              SUBS     r7,r7,#0xff
000030  1e7f              SUBS     r7,r7,#1
000032  d028              BEQ      |L25.134|
000034  3fff              SUBS     r7,r7,#0xff
000036  3fff              SUBS     r7,r7,#0xff
000038  1ebf              SUBS     r7,r7,#2
00003a  d016              BEQ      |L25.106|
00003c  2207              MOVS     r2,#7
00003e  0292              LSLS     r2,r2,#10
000040  4297              CMP      r7,r2
000042  d115              BNE      |L25.112|
;;;642            {
;;;643            case UI2C_PROTSTS_STARIF_Msk:
;;;644                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;645                UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);             /* Write SLA+W to Register UI2C_TXDAT */
;;;646                eEvent = MASTER_SEND_ADDRESS;
;;;647                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;648                break;
;;;649    
;;;650            case UI2C_PROTSTS_ACKIF_Msk:
;;;651                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
000044  2201              MOVS     r2,#1
000046  0352              LSLS     r2,r2,#13
000048  6642              STR      r2,[r0,#0x64]
;;;652    
;;;653                if (eEvent == MASTER_SEND_ADDRESS)
00004a  2c0a              CMP      r4,#0xa
00004c  d009              BEQ      |L25.98|
;;;654                {
;;;655                    UI2C_SET_DATA(ui2c, data);                              /* Write data to UI2C_TXDAT */
;;;656                    eEvent = MASTER_SEND_DATA;
;;;657                }
;;;658                else
;;;659                {
;;;660                    u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                /* Clear SI and send STOP */
00004e  2324              MOVS     r3,#0x24
000050  e010              B        |L25.116|
                  |L25.82|
000052  22ff              MOVS     r2,#0xff              ;644
000054  3201              ADDS     r2,#1                 ;644
000056  6642              STR      r2,[r0,#0x64]         ;644
000058  004a              LSLS     r2,r1,#1              ;645
00005a  6302              STR      r2,[r0,#0x30]         ;645
00005c  240a              MOVS     r4,#0xa               ;646
00005e  2320              MOVS     r3,#0x20              ;647
000060  e008              B        |L25.116|
                  |L25.98|
000062  4662              MOV      r2,r12                ;655
000064  6302              STR      r2,[r0,#0x30]         ;655
000066  240e              MOVS     r4,#0xe               ;656
000068  e004              B        |L25.116|
                  |L25.106|
;;;661                }
;;;662    
;;;663                break;
;;;664    
;;;665            case UI2C_PROTSTS_NACKIF_Msk:
;;;666                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
00006a  2201              MOVS     r2,#1
00006c  0292              LSLS     r2,r2,#10
00006e  6642              STR      r2,[r0,#0x64]
                  |L25.112|
;;;667                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;668                u8Err = 1U;
;;;669                break;
;;;670    
;;;671            case UI2C_PROTSTS_STORIF_Msk:
;;;672                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
;;;673                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;674                u8Xfering = 0U;
;;;675                break;
;;;676    
;;;677            case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;678            default:                                                        /* Unknow status */
;;;679                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
000070  2324              MOVS     r3,#0x24
;;;680                u8Err = 1U;
000072  2501              MOVS     r5,#1
                  |L25.116|
;;;681                break;
;;;682            }
;;;683    
;;;684            UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_PROTCTL register */
000074  6dc7              LDR      r7,[r0,#0x5c]
000076  222e              MOVS     r2,#0x2e
000078  4397              BICS     r7,r7,r2
00007a  431f              ORRS     r7,r7,r3
00007c  65c7              STR      r7,[r0,#0x5c]
00007e  2e00              CMP      r6,#0                 ;637
000080  d1ca              BNE      |L25.24|
;;;685        }
;;;686    
;;;687        return (u8Err | u8Xfering);                                             /* return (Success)/(Fail) status */
000082  4628              MOV      r0,r5
;;;688    }
000084  bdf0              POP      {r4-r7,pc}
                  |L25.134|
000086  2201              MOVS     r2,#1                 ;672
000088  0252              LSLS     r2,r2,#9              ;672
00008a  6642              STR      r2,[r0,#0x64]         ;672
00008c  2320              MOVS     r3,#0x20              ;673
00008e  2600              MOVS     r6,#0                 ;674
000090  e7f0              B        |L25.116|
;;;689    
                          ENDP


                          AREA ||i.UI2C_WriteByteOneReg||, CODE, READONLY, ALIGN=1

                  UI2C_WriteByteOneReg PROC
;;;772    
;;;773    uint8_t UI2C_WriteByteOneReg(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint8_t u8DataAddr, const uint8_t data)
000000  b5f0              PUSH     {r4-r7,lr}
;;;774    {
000002  4694              MOV      r12,r2
000004  460a              MOV      r2,r1
;;;775        uint8_t u8Xfering = 1U, u8Err = 0U, u8Ctrl = 0U;
000006  2101              MOVS     r1,#1
000008  2600              MOVS     r6,#0
;;;776        uint32_t u32txLen = 0U;
;;;777    
;;;778        UI2C_START(ui2c);                                                       /* Send START */
00000a  6dc7              LDR      r7,[r0,#0x5c]
00000c  469e              MOV      lr,r3                 ;774
00000e  4634              MOV      r4,r6                 ;775
000010  4635              MOV      r5,r6                 ;776
000012  2320              MOVS     r3,#0x20
000014  439f              BICS     r7,r7,r3
000016  2308              MOVS     r3,#8
000018  431f              ORRS     r7,r7,r3
00001a  65c7              STR      r7,[r0,#0x5c]
                  |L26.28|
;;;779    
;;;780        while (u8Xfering)
;;;781        {
;;;782            while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
00001c  6e47              LDR      r7,[r0,#0x64]
00001e  04bf              LSLS     r7,r7,#18
000020  0ebf              LSRS     r7,r7,#26
000022  d0fb              BEQ      |L26.28|
;;;783    
;;;784            switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
000024  6e47              LDR      r7,[r0,#0x64]
000026  233f              MOVS     r3,#0x3f
000028  021b              LSLS     r3,r3,#8
00002a  401f              ANDS     r7,r7,r3
00002c  3fff              SUBS     r7,r7,#0xff
00002e  1e7f              SUBS     r7,r7,#1
000030  d013              BEQ      |L26.90|
000032  3fff              SUBS     r7,r7,#0xff
000034  1e7f              SUBS     r7,r7,#1
000036  d02d              BEQ      |L26.148|
000038  3fff              SUBS     r7,r7,#0xff
00003a  3fff              SUBS     r7,r7,#0xff
00003c  1ebf              SUBS     r7,r7,#2
00003e  d01b              BEQ      |L26.120|
000040  2307              MOVS     r3,#7
000042  029b              LSLS     r3,r3,#10
000044  429f              CMP      r7,r3
000046  d11a              BNE      |L26.126|
;;;785            {
;;;786            case UI2C_PROTSTS_STARIF_Msk:
;;;787                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;788                UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);             /* Write SLA+W to Register UI2C_TXDAT */
;;;789                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;790                break;
;;;791    
;;;792            case UI2C_PROTSTS_ACKIF_Msk:
;;;793                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
000048  2701              MOVS     r7,#1
00004a  037f              LSLS     r7,r7,#13
00004c  6647              STR      r7,[r0,#0x64]
;;;794    
;;;795                if (u32txLen == 0U)
00004e  2d00              CMP      r5,#0
000050  d00a              BEQ      |L26.104|
;;;796                {
;;;797                    UI2C_SET_DATA(ui2c, u8DataAddr);                        /* Write data address to UI2C_TXDAT */
;;;798                    u32txLen++;
;;;799                }
;;;800                else if (u32txLen == 1U)
000052  2d01              CMP      r5,#1
000054  d00c              BEQ      |L26.112|
;;;801                {
;;;802                    UI2C_SET_DATA(ui2c, data);                              /* Write data to UI2C_TXDAT */
;;;803                    u32txLen++;
;;;804                }
;;;805                else
;;;806                {
;;;807                    u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                /* Clear SI and send STOP */
000056  2424              MOVS     r4,#0x24
000058  e013              B        |L26.130|
                  |L26.90|
00005a  23ff              MOVS     r3,#0xff              ;787
00005c  3301              ADDS     r3,#1                 ;787
00005e  6643              STR      r3,[r0,#0x64]         ;787
000060  0053              LSLS     r3,r2,#1              ;788
000062  6303              STR      r3,[r0,#0x30]         ;788
000064  2420              MOVS     r4,#0x20              ;789
000066  e00c              B        |L26.130|
                  |L26.104|
000068  4663              MOV      r3,r12                ;797
00006a  6303              STR      r3,[r0,#0x30]         ;797
00006c  2501              MOVS     r5,#1                 ;798
00006e  e008              B        |L26.130|
                  |L26.112|
000070  4673              MOV      r3,lr                 ;802
000072  6303              STR      r3,[r0,#0x30]         ;802
000074  2502              MOVS     r5,#2                 ;803
000076  e004              B        |L26.130|
                  |L26.120|
;;;808                }
;;;809    
;;;810                break;
;;;811    
;;;812            case UI2C_PROTSTS_NACKIF_Msk:
;;;813                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
000078  2301              MOVS     r3,#1
00007a  029b              LSLS     r3,r3,#10
00007c  6643              STR      r3,[r0,#0x64]
                  |L26.126|
;;;814                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;815                u8Err = 1U;
;;;816                break;
;;;817    
;;;818            case UI2C_PROTSTS_STORIF_Msk:
;;;819                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
;;;820                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;821                u8Xfering = 0U;
;;;822                break;
;;;823    
;;;824            case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;825            default:                                                        /* Unknow status */
;;;826                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
00007e  2424              MOVS     r4,#0x24
;;;827                u8Err = 1U;
000080  2601              MOVS     r6,#1
                  |L26.130|
;;;828                break;
;;;829            }
;;;830    
;;;831            UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_CTL register */
000082  6dc7              LDR      r7,[r0,#0x5c]
000084  232e              MOVS     r3,#0x2e
000086  439f              BICS     r7,r7,r3
000088  4327              ORRS     r7,r7,r4
00008a  65c7              STR      r7,[r0,#0x5c]
00008c  2900              CMP      r1,#0                 ;780
00008e  d1c5              BNE      |L26.28|
;;;832        }
;;;833    
;;;834        return (u8Err | u8Xfering);                                             /* return (Success)/(Fail) status */
000090  4630              MOV      r0,r6
;;;835    }
000092  bdf0              POP      {r4-r7,pc}
                  |L26.148|
000094  2101              MOVS     r1,#1                 ;819
000096  0249              LSLS     r1,r1,#9              ;819
000098  6641              STR      r1,[r0,#0x64]         ;819
00009a  2420              MOVS     r4,#0x20              ;820
00009c  2100              MOVS     r1,#0                 ;821
00009e  e7f0              B        |L26.130|
;;;836    
                          ENDP


                          AREA ||i.UI2C_WriteByteTwoRegs||, CODE, READONLY, ALIGN=1

                  UI2C_WriteByteTwoRegs PROC
;;;931    
;;;932    uint8_t UI2C_WriteByteTwoRegs(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint16_t u16DataAddr, const uint8_t data)
000000  b5f0              PUSH     {r4-r7,lr}
;;;933    {
000002  468c              MOV      r12,r1
;;;934        uint8_t u8Xfering = 1U, u8Err = 0U, u8Ctrl = 0U;
000004  2101              MOVS     r1,#1
000006  2600              MOVS     r6,#0
;;;935        uint32_t u32txLen = 0U;
;;;936    
;;;937        UI2C_START(ui2c);                                                           /* Send START */
000008  6dc7              LDR      r7,[r0,#0x5c]
00000a  469e              MOV      lr,r3                 ;933
00000c  4635              MOV      r5,r6                 ;934
00000e  4634              MOV      r4,r6                 ;935
000010  2320              MOVS     r3,#0x20
000012  439f              BICS     r7,r7,r3
000014  2308              MOVS     r3,#8
000016  431f              ORRS     r7,r7,r3
000018  65c7              STR      r7,[r0,#0x5c]
                  |L27.26|
;;;938    
;;;939        while (u8Xfering)
;;;940        {
;;;941            while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
00001a  6e47              LDR      r7,[r0,#0x64]
00001c  04bf              LSLS     r7,r7,#18
00001e  0ebf              LSRS     r7,r7,#26
000020  d0fb              BEQ      |L27.26|
;;;942    
;;;943            switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
000022  6e47              LDR      r7,[r0,#0x64]
000024  233f              MOVS     r3,#0x3f
000026  021b              LSLS     r3,r3,#8
000028  401f              ANDS     r7,r7,r3
00002a  3fff              SUBS     r7,r7,#0xff
00002c  1e7f              SUBS     r7,r7,#1
00002e  d015              BEQ      |L27.92|
000030  3fff              SUBS     r7,r7,#0xff
000032  1e7f              SUBS     r7,r7,#1
000034  d034              BEQ      |L27.160|
000036  3fff              SUBS     r7,r7,#0xff
000038  3fff              SUBS     r7,r7,#0xff
00003a  1ebf              SUBS     r7,r7,#2
00003c  d022              BEQ      |L27.132|
00003e  2307              MOVS     r3,#7
000040  029b              LSLS     r3,r3,#10
000042  429f              CMP      r7,r3
000044  d121              BNE      |L27.138|
;;;944            {
;;;945            case UI2C_PROTSTS_STARIF_Msk:
;;;946                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);         /* Clear START INT Flag */
;;;947                UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);                 /* Write SLA+W to Register UI2C_TXDAT */
;;;948                u8Ctrl = UI2C_CTL_PTRG;                                         /* Clear SI */
;;;949                break;
;;;950    
;;;951            case UI2C_PROTSTS_ACKIF_Msk:
;;;952                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);          /* Clear ACK INT Flag */
000046  2701              MOVS     r7,#1
000048  037f              LSLS     r7,r7,#13
00004a  6647              STR      r7,[r0,#0x64]
;;;953    
;;;954                if (u32txLen == 0U)
00004c  2c00              CMP      r4,#0
00004e  d00d              BEQ      |L27.108|
;;;955                {
;;;956                    UI2C_SET_DATA(ui2c, (uint8_t)((u16DataAddr & 0xFF00U) >> 8U));  /* Write Hi byte data address to UI2C_TXDAT */
;;;957                    u32txLen++;
;;;958                }
;;;959                else if (u32txLen == 1U)
000050  2c01              CMP      r4,#1
000052  d00f              BEQ      |L27.116|
;;;960                {
;;;961                    UI2C_SET_DATA(ui2c, (uint8_t)(u16DataAddr & 0xFFU));         /* Write Lo byte data address to UI2C_TXDAT */
;;;962                    u32txLen++;
;;;963                }
;;;964                else if (u32txLen == 2U)
000054  2c02              CMP      r4,#2
000056  d011              BEQ      |L27.124|
;;;965                {
;;;966                    UI2C_SET_DATA(ui2c, data);                                  /* Write data to UI2C_TXDAT */
;;;967                    u32txLen++;
;;;968                }
;;;969                else
;;;970                {
;;;971                    u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                /* Clear SI and send STOP */
000058  2524              MOVS     r5,#0x24
00005a  e018              B        |L27.142|
                  |L27.92|
00005c  23ff              MOVS     r3,#0xff              ;946
00005e  3301              ADDS     r3,#1                 ;946
000060  6643              STR      r3,[r0,#0x64]         ;946
000062  4663              MOV      r3,r12                ;947
000064  005b              LSLS     r3,r3,#1              ;947
000066  6303              STR      r3,[r0,#0x30]         ;947
000068  2520              MOVS     r5,#0x20              ;948
00006a  e010              B        |L27.142|
                  |L27.108|
00006c  0a13              LSRS     r3,r2,#8              ;956
00006e  6303              STR      r3,[r0,#0x30]         ;956
000070  2401              MOVS     r4,#1                 ;957
000072  e00c              B        |L27.142|
                  |L27.116|
000074  b2d3              UXTB     r3,r2                 ;961
000076  6303              STR      r3,[r0,#0x30]         ;961
000078  2402              MOVS     r4,#2                 ;962
00007a  e008              B        |L27.142|
                  |L27.124|
00007c  4673              MOV      r3,lr                 ;966
00007e  6303              STR      r3,[r0,#0x30]         ;966
000080  2403              MOVS     r4,#3                 ;967
000082  e004              B        |L27.142|
                  |L27.132|
;;;972                }
;;;973    
;;;974                break;
;;;975    
;;;976            case UI2C_PROTSTS_NACKIF_Msk:
;;;977                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);         /* Clear NACK INT Flag */
000084  2301              MOVS     r3,#1
000086  029b              LSLS     r3,r3,#10
000088  6643              STR      r3,[r0,#0x64]
                  |L27.138|
;;;978                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
;;;979                u8Err = 1U;
;;;980                break;
;;;981    
;;;982            case UI2C_PROTSTS_STORIF_Msk:
;;;983                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
;;;984                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;985                u8Xfering = 0U;
;;;986                break;
;;;987    
;;;988            case UI2C_PROTSTS_ARBLOIF_Msk:                                      /* Arbitration Lost */
;;;989            default:                                                            /* Unknow status */
;;;990                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
00008a  2524              MOVS     r5,#0x24
;;;991                u8Err = 1U;
00008c  2601              MOVS     r6,#1
                  |L27.142|
;;;992                break;
;;;993            }
;;;994    
;;;995            UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                     /* Write controlbit to UI2C_CTL register */
00008e  6dc7              LDR      r7,[r0,#0x5c]
000090  232e              MOVS     r3,#0x2e
000092  439f              BICS     r7,r7,r3
000094  432f              ORRS     r7,r7,r5
000096  65c7              STR      r7,[r0,#0x5c]
000098  2900              CMP      r1,#0                 ;939
00009a  d1be              BNE      |L27.26|
;;;996        }
;;;997    
;;;998        return (u8Err | u8Xfering);
00009c  4630              MOV      r0,r6
;;;999    }
00009e  bdf0              POP      {r4-r7,pc}
                  |L27.160|
0000a0  2101              MOVS     r1,#1                 ;983
0000a2  0249              LSLS     r1,r1,#9              ;983
0000a4  6641              STR      r1,[r0,#0x64]         ;983
0000a6  2520              MOVS     r5,#0x20              ;984
0000a8  2100              MOVS     r1,#0                 ;985
0000aa  e7f0              B        |L27.142|
;;;1000   
                          ENDP


                          AREA ||i.UI2C_WriteMultiBytes||, CODE, READONLY, ALIGN=1

                  UI2C_WriteMultiBytes PROC
;;;703    
;;;704    uint32_t UI2C_WriteMultiBytes(UI2C_T *ui2c, uint8_t u8SlaveAddr, const uint8_t *data, uint32_t u32wLen)
000000  b5f0              PUSH     {r4-r7,lr}
;;;705    {
;;;706        uint8_t u8Xfering = 1U, u8Ctrl = 0U;
000002  2601              MOVS     r6,#1
000004  2400              MOVS     r4,#0
;;;707        uint32_t u32txLen = 0U;
;;;708    
;;;709        UI2C_START(ui2c);                                                       /* Send START */
000006  6dc7              LDR      r7,[r0,#0x5c]
000008  469c              MOV      r12,r3                ;705
00000a  4625              MOV      r5,r4                 ;707
00000c  2320              MOVS     r3,#0x20
00000e  439f              BICS     r7,r7,r3
000010  2308              MOVS     r3,#8
000012  431f              ORRS     r7,r7,r3
000014  65c7              STR      r7,[r0,#0x5c]
                  |L28.22|
;;;710    
;;;711        while (u8Xfering)
;;;712        {
;;;713            while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
000016  6e43              LDR      r3,[r0,#0x64]
000018  049b              LSLS     r3,r3,#18
00001a  0e9b              LSRS     r3,r3,#26
00001c  d0fb              BEQ      |L28.22|
;;;714    
;;;715            switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
00001e  6e47              LDR      r7,[r0,#0x64]
000020  233f              MOVS     r3,#0x3f
000022  021b              LSLS     r3,r3,#8
000024  401f              ANDS     r7,r7,r3
000026  3fff              SUBS     r7,r7,#0xff
000028  1e7f              SUBS     r7,r7,#1
00002a  d013              BEQ      |L28.84|
00002c  3fff              SUBS     r7,r7,#0xff
00002e  1e7f              SUBS     r7,r7,#1
000030  d01d              BEQ      |L28.110|
000032  3fff              SUBS     r7,r7,#0xff
000034  3fff              SUBS     r7,r7,#0xff
000036  1ebf              SUBS     r7,r7,#2
000038  d015              BEQ      |L28.102|
00003a  2307              MOVS     r3,#7
00003c  029b              LSLS     r3,r3,#10
00003e  429f              CMP      r7,r3
000040  d10f              BNE      |L28.98|
;;;716            {
;;;717            case UI2C_PROTSTS_STARIF_Msk:
;;;718                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;719                UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);             /* Write SLA+W to Register UI2C_TXDAT */
;;;720                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;721                break;
;;;722    
;;;723            case UI2C_PROTSTS_ACKIF_Msk:
;;;724                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
000042  2301              MOVS     r3,#1
000044  035b              LSLS     r3,r3,#13
000046  6643              STR      r3,[r0,#0x64]
;;;725    
;;;726                if (u32txLen < u32wLen)
000048  4565              CMP      r5,r12
00004a  d20a              BCS      |L28.98|
;;;727                    UI2C_SET_DATA(ui2c, data[u32txLen++]);                  /* Write data to UI2C_TXDAT */
00004c  5d53              LDRB     r3,[r2,r5]
00004e  6303              STR      r3,[r0,#0x30]
000050  1c6d              ADDS     r5,r5,#1
000052  e011              B        |L28.120|
                  |L28.84|
000054  23ff              MOVS     r3,#0xff              ;718
000056  3301              ADDS     r3,#1                 ;718
000058  6643              STR      r3,[r0,#0x64]         ;718
00005a  004b              LSLS     r3,r1,#1              ;719
00005c  6303              STR      r3,[r0,#0x30]         ;719
00005e  2420              MOVS     r4,#0x20              ;720
000060  e00a              B        |L28.120|
                  |L28.98|
;;;728                else
;;;729                {
;;;730                    u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                /* Clear SI and send STOP */
000062  2424              MOVS     r4,#0x24
000064  e008              B        |L28.120|
                  |L28.102|
;;;731                }
;;;732    
;;;733                break;
;;;734    
;;;735            case UI2C_PROTSTS_NACKIF_Msk:
;;;736                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
000066  2301              MOVS     r3,#1
000068  029b              LSLS     r3,r3,#10
00006a  6643              STR      r3,[r0,#0x64]
;;;737                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;738                break;
00006c  e7f9              B        |L28.98|
                  |L28.110|
;;;739    
;;;740            case UI2C_PROTSTS_STORIF_Msk:
;;;741                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
00006e  2301              MOVS     r3,#1
000070  025b              LSLS     r3,r3,#9
000072  6643              STR      r3,[r0,#0x64]
;;;742                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
000074  2420              MOVS     r4,#0x20
;;;743                u8Xfering = 0U;
000076  2600              MOVS     r6,#0
                  |L28.120|
;;;744                break;
;;;745    
;;;746            case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;747            default:                                                        /* Unknow status */
;;;748                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;749                break;
;;;750            }
;;;751    
;;;752            UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_CTL register */
000078  6dc7              LDR      r7,[r0,#0x5c]
00007a  232e              MOVS     r3,#0x2e
00007c  439f              BICS     r7,r7,r3
00007e  4327              ORRS     r7,r7,r4
000080  65c7              STR      r7,[r0,#0x5c]
000082  2e00              CMP      r6,#0                 ;711
000084  d1c7              BNE      |L28.22|
;;;753        }
;;;754    
;;;755        return u32txLen;                                                        /* Return bytes length that have been transmitted */
000086  4628              MOV      r0,r5
;;;756    }
000088  bdf0              POP      {r4-r7,pc}
;;;757    
                          ENDP


                          AREA ||i.UI2C_WriteMultiBytesOneReg||, CODE, READONLY, ALIGN=1

                  UI2C_WriteMultiBytesOneReg PROC
;;;852    
;;;853    uint32_t UI2C_WriteMultiBytesOneReg(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint8_t u8DataAddr, const uint8_t *data, uint32_t u32wLen)
000000  b5f0              PUSH     {r4-r7,lr}
;;;854    {
000002  4694              MOV      r12,r2
000004  460a              MOV      r2,r1
;;;855        uint8_t u8Xfering = 1U, u8Ctrl = 0U;
000006  2400              MOVS     r4,#0
000008  2101              MOVS     r1,#1
;;;856        uint32_t u32txLen = 0U;
;;;857        enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;858    
;;;859        UI2C_START(ui2c);                                                       /* Send START */
00000a  6dc7              LDR      r7,[r0,#0x5c]
00000c  469e              MOV      lr,r3                 ;854
00000e  4625              MOV      r5,r4                 ;856
000010  2612              MOVS     r6,#0x12              ;857
000012  2320              MOVS     r3,#0x20
000014  439f              BICS     r7,r7,r3
000016  2308              MOVS     r3,#8
000018  431f              ORRS     r7,r7,r3
00001a  65c7              STR      r7,[r0,#0x5c]
                  |L29.28|
;;;860    
;;;861        while (u8Xfering)
;;;862        {
;;;863            while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
00001c  6e47              LDR      r7,[r0,#0x64]
00001e  04bf              LSLS     r7,r7,#18
000020  0ebf              LSRS     r7,r7,#26
000022  d0fb              BEQ      |L29.28|
;;;864    
;;;865            switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
000024  6e47              LDR      r7,[r0,#0x64]
000026  233f              MOVS     r3,#0x3f
000028  021b              LSLS     r3,r3,#8
00002a  401f              ANDS     r7,r7,r3
00002c  3fff              SUBS     r7,r7,#0xff
00002e  1e7f              SUBS     r7,r7,#1
000030  d017              BEQ      |L29.98|
000032  3fff              SUBS     r7,r7,#0xff
000034  1e7f              SUBS     r7,r7,#1
000036  d026              BEQ      |L29.134|
000038  3fff              SUBS     r7,r7,#0xff
00003a  3fff              SUBS     r7,r7,#0xff
00003c  1ebf              SUBS     r7,r7,#2
00003e  d01e              BEQ      |L29.126|
000040  2307              MOVS     r3,#7
000042  029b              LSLS     r3,r3,#10
000044  429f              CMP      r7,r3
000046  d118              BNE      |L29.122|
;;;866            {
;;;867            case UI2C_PROTSTS_STARIF_Msk:
;;;868                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);     /* Clear START INT Flag */
;;;869                UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);             /* Write SLA+W to Register UI2C_TXDAT */
;;;870                eEvent = MASTER_SEND_ADDRESS;
;;;871                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
;;;872                break;
;;;873    
;;;874            case UI2C_PROTSTS_ACKIF_Msk:
;;;875                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);      /* Clear ACK INT Flag */
000048  2701              MOVS     r7,#1
00004a  037f              LSLS     r7,r7,#13
00004c  6647              STR      r7,[r0,#0x64]
;;;876    
;;;877                if (eEvent == MASTER_SEND_ADDRESS)
00004e  2e0a              CMP      r6,#0xa
000050  d00f              BEQ      |L29.114|
;;;878                {
;;;879                    UI2C_SET_DATA(ui2c, u8DataAddr);                        /* Write data address to UI2C_TXDAT */
;;;880                    eEvent = MASTER_SEND_DATA;
;;;881                }
;;;882                else
;;;883                {
;;;884                    if (u32txLen < u32wLen)
000052  9f05              LDR      r7,[sp,#0x14]
000054  42bd              CMP      r5,r7
000056  d210              BCS      |L29.122|
;;;885                        UI2C_SET_DATA(ui2c, data[u32txLen++]);              /* Write data to UI2C_TXDAT */
000058  4673              MOV      r3,lr
00005a  5d5f              LDRB     r7,[r3,r5]
00005c  6307              STR      r7,[r0,#0x30]
00005e  1c6d              ADDS     r5,r5,#1
000060  e016              B        |L29.144|
                  |L29.98|
000062  23ff              MOVS     r3,#0xff              ;868
000064  3301              ADDS     r3,#1                 ;868
000066  6643              STR      r3,[r0,#0x64]         ;868
000068  0053              LSLS     r3,r2,#1              ;869
00006a  6303              STR      r3,[r0,#0x30]         ;869
00006c  260a              MOVS     r6,#0xa               ;870
00006e  2420              MOVS     r4,#0x20              ;871
000070  e00e              B        |L29.144|
                  |L29.114|
000072  4663              MOV      r3,r12                ;879
000074  6303              STR      r3,[r0,#0x30]         ;879
000076  260e              MOVS     r6,#0xe               ;880
000078  e00a              B        |L29.144|
                  |L29.122|
;;;886                    else
;;;887                    {
;;;888                        u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);            /* Clear SI and send STOP */
00007a  2424              MOVS     r4,#0x24
00007c  e008              B        |L29.144|
                  |L29.126|
;;;889                    }
;;;890                }
;;;891    
;;;892                break;
;;;893    
;;;894            case UI2C_PROTSTS_NACKIF_Msk:
;;;895                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);     /* Clear NACK INT Flag */
00007e  2301              MOVS     r3,#1
000080  029b              LSLS     r3,r3,#10
000082  6643              STR      r3,[r0,#0x64]
;;;896                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;897                break;
000084  e7f9              B        |L29.122|
                  |L29.134|
;;;898    
;;;899            case UI2C_PROTSTS_STORIF_Msk:
;;;900                UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
000086  2101              MOVS     r1,#1
000088  0249              LSLS     r1,r1,#9
00008a  6641              STR      r1,[r0,#0x64]
;;;901                u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
00008c  2420              MOVS     r4,#0x20
;;;902                u8Xfering = 0U;
00008e  2100              MOVS     r1,#0
                  |L29.144|
;;;903                break;
;;;904    
;;;905            case UI2C_PROTSTS_ARBLOIF_Msk:                                  /* Arbitration Lost */
;;;906            default:                                                        /* Unknow status */
;;;907                u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                    /* Clear SI and send STOP */
;;;908                break;
;;;909            }
;;;910    
;;;911            UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                 /* Write controlbit to UI2C_CTL register */
000090  6dc7              LDR      r7,[r0,#0x5c]
000092  232e              MOVS     r3,#0x2e
000094  439f              BICS     r7,r7,r3
000096  4327              ORRS     r7,r7,r4
000098  65c7              STR      r7,[r0,#0x5c]
00009a  2900              CMP      r1,#0                 ;861
00009c  d1be              BNE      |L29.28|
;;;912        }
;;;913    
;;;914        return u32txLen;                                                        /* Return bytes length that have been transmitted */
00009e  4628              MOV      r0,r5
;;;915    }
0000a0  bdf0              POP      {r4-r7,pc}
;;;916    
                          ENDP


                          AREA ||i.UI2C_WriteMultiBytesTwoRegs||, CODE, READONLY, ALIGN=1

                  UI2C_WriteMultiBytesTwoRegs PROC
;;;1016   
;;;1017   uint32_t UI2C_WriteMultiBytesTwoRegs(UI2C_T *ui2c, uint8_t u8SlaveAddr, uint16_t u16DataAddr, const uint8_t *data, uint32_t u32wLen)
000000  b5ff              PUSH     {r0-r7,lr}
;;;1018   {
000002  4694              MOV      r12,r2
;;;1019       uint8_t u8Xfering = 1U, u8Addr = 1U, u8Ctrl = 0U;
000004  2201              MOVS     r2,#1
000006  2100              MOVS     r1,#0
;;;1020       uint32_t u32txLen = 0U;
;;;1021       enum UI2C_MASTER_EVENT eEvent = MASTER_SEND_START;
;;;1022   
;;;1023       UI2C_START(ui2c);                                                           /* Send START */
000008  6dc6              LDR      r6,[r0,#0x5c]
00000a  469e              MOV      lr,r3                 ;1018
00000c  4617              MOV      r7,r2                 ;1019
00000e  460c              MOV      r4,r1                 ;1020
000010  2512              MOVS     r5,#0x12              ;1021
000012  2320              MOVS     r3,#0x20
000014  439e              BICS     r6,r6,r3
000016  2308              MOVS     r3,#8
000018  431e              ORRS     r6,r6,r3
00001a  65c6              STR      r6,[r0,#0x5c]
                  |L30.28|
;;;1024   
;;;1025       while (u8Xfering)
;;;1026       {
;;;1027           while (!(UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U));                     /* Wait UI2C new status occur */
00001c  6e46              LDR      r6,[r0,#0x64]
00001e  04b6              LSLS     r6,r6,#18
000020  0eb6              LSRS     r6,r6,#26
000022  d0fb              BEQ      |L30.28|
;;;1028   
;;;1029           switch (UI2C_GET_PROT_STATUS(ui2c) & 0x3F00U)
000024  6e46              LDR      r6,[r0,#0x64]
000026  233f              MOVS     r3,#0x3f
000028  021b              LSLS     r3,r3,#8
00002a  401e              ANDS     r6,r6,r3
00002c  3eff              SUBS     r6,r6,#0xff
00002e  1e76              SUBS     r6,r6,#1
000030  d012              BEQ      |L30.88|
000032  3eff              SUBS     r6,r6,#0xff
000034  1e76              SUBS     r6,r6,#1
000036  d032              BEQ      |L30.158|
000038  3eff              SUBS     r6,r6,#0xff
00003a  3eff              SUBS     r6,r6,#0xff
00003c  1eb6              SUBS     r6,r6,#2
00003e  d02a              BEQ      |L30.150|
000040  2307              MOVS     r3,#7
000042  029b              LSLS     r3,r3,#10
000044  429e              CMP      r6,r3
000046  d124              BNE      |L30.146|
;;;1030           {
;;;1031           case UI2C_PROTSTS_STARIF_Msk:
;;;1032               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STARIF_Msk);         /* Clear START INT Flag */
;;;1033               UI2C_SET_DATA(ui2c, (u8SlaveAddr << 1U) | 0x00U);                 /* Write SLA+W to Register UI2C_TXDAT */
;;;1034               eEvent = MASTER_SEND_ADDRESS;
;;;1035               u8Ctrl = UI2C_CTL_PTRG;                                         /* Clear SI */
;;;1036               break;
;;;1037   
;;;1038           case UI2C_PROTSTS_ACKIF_Msk:
;;;1039               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_ACKIF_Msk);          /* Clear ACK INT Flag */
000048  2601              MOVS     r6,#1
00004a  0376              LSLS     r6,r6,#13
00004c  6646              STR      r6,[r0,#0x64]
;;;1040   
;;;1041               if (eEvent == MASTER_SEND_ADDRESS)
00004e  2d0a              CMP      r5,#0xa
000050  d00b              BEQ      |L30.106|
;;;1042               {
;;;1043                   UI2C_SET_DATA(ui2c, (uint8_t)((u16DataAddr & 0xFF00U) >> 8U));  /* Write Hi byte data address to UI2C_TXDAT */
;;;1044                   eEvent = MASTER_SEND_DATA;
;;;1045               }
;;;1046               else if (eEvent == MASTER_SEND_DATA)
000052  2d0e              CMP      r5,#0xe
000054  d00e              BEQ      |L30.116|
000056  e027              B        |L30.168|
                  |L30.88|
000058  21ff              MOVS     r1,#0xff              ;1032
00005a  3101              ADDS     r1,#1                 ;1032
00005c  6641              STR      r1,[r0,#0x64]         ;1032
00005e  9901              LDR      r1,[sp,#4]            ;1033
000060  0049              LSLS     r1,r1,#1              ;1033
000062  6301              STR      r1,[r0,#0x30]         ;1033
000064  250a              MOVS     r5,#0xa               ;1034
000066  2120              MOVS     r1,#0x20              ;1035
000068  e01e              B        |L30.168|
                  |L30.106|
00006a  4663              MOV      r3,r12                ;1043
00006c  0a1b              LSRS     r3,r3,#8              ;1043
00006e  6303              STR      r3,[r0,#0x30]         ;1043
000070  250e              MOVS     r5,#0xe               ;1044
000072  e019              B        |L30.168|
                  |L30.116|
;;;1047               {
;;;1048                   if (u8Addr)
000074  2f00              CMP      r7,#0
000076  d004              BEQ      |L30.130|
;;;1049                   {
;;;1050                       UI2C_SET_DATA(ui2c, (uint8_t)(u16DataAddr & 0xFFU));         /* Write Lo byte data address to UI2C_TXDAT */
000078  4663              MOV      r3,r12
00007a  b2db              UXTB     r3,r3
00007c  6303              STR      r3,[r0,#0x30]
;;;1051                       u8Addr = 0;
00007e  2700              MOVS     r7,#0
000080  e012              B        |L30.168|
                  |L30.130|
;;;1052                   }
;;;1053                   else
;;;1054                   {
;;;1055                       if (u32txLen < u32wLen)
000082  9e09              LDR      r6,[sp,#0x24]
000084  42b4              CMP      r4,r6
000086  d204              BCS      |L30.146|
;;;1056                       {
;;;1057                           UI2C_SET_DATA(ui2c, data[u32txLen++]);                  /* Write data to UI2C_TXDAT */
000088  4673              MOV      r3,lr
00008a  5d1e              LDRB     r6,[r3,r4]
00008c  6306              STR      r6,[r0,#0x30]
00008e  1c64              ADDS     r4,r4,#1
000090  e00a              B        |L30.168|
                  |L30.146|
;;;1058                       }
;;;1059                       else
;;;1060                       {
;;;1061                           u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                /* Clear SI and send STOP */
000092  2124              MOVS     r1,#0x24
000094  e008              B        |L30.168|
                  |L30.150|
;;;1062                       }
;;;1063                   }
;;;1064               }
;;;1065   
;;;1066               break;
;;;1067   
;;;1068           case UI2C_PROTSTS_NACKIF_Msk:
;;;1069               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_NACKIF_Msk);         /* Clear NACK INT Flag */
000096  2101              MOVS     r1,#1
000098  0289              LSLS     r1,r1,#10
00009a  6641              STR      r1,[r0,#0x64]
;;;1070               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
;;;1071               break;
00009c  e7f9              B        |L30.146|
                  |L30.158|
;;;1072   
;;;1073           case UI2C_PROTSTS_STORIF_Msk:
;;;1074               UI2C_CLR_PROT_INT_FLAG(ui2c, UI2C_PROTSTS_STORIF_Msk);     /* Clear STOP INT Flag */
00009e  2101              MOVS     r1,#1
0000a0  0249              LSLS     r1,r1,#9
0000a2  6641              STR      r1,[r0,#0x64]
;;;1075               u8Ctrl = UI2C_CTL_PTRG;                                     /* Clear SI */
0000a4  2120              MOVS     r1,#0x20
;;;1076               u8Xfering = 0U;
0000a6  2200              MOVS     r2,#0
                  |L30.168|
;;;1077               break;
;;;1078   
;;;1079           case UI2C_PROTSTS_ARBLOIF_Msk:                                      /* Arbitration Lost */
;;;1080           default:                                                            /* Unknow status */
;;;1081               u8Ctrl = (UI2C_CTL_PTRG | UI2C_CTL_STO);                        /* Clear SI and send STOP */
;;;1082               break;
;;;1083           }
;;;1084   
;;;1085           UI2C_SET_CONTROL_REG(ui2c, u8Ctrl);                                     /* Write controlbit to UI2C_CTL register */
0000a8  6dc6              LDR      r6,[r0,#0x5c]
0000aa  232e              MOVS     r3,#0x2e
0000ac  439e              BICS     r6,r6,r3
0000ae  430e              ORRS     r6,r6,r1
0000b0  65c6              STR      r6,[r0,#0x5c]
0000b2  2a00              CMP      r2,#0                 ;1025
0000b4  d1b2              BNE      |L30.28|
;;;1086       }
;;;1087   
;;;1088       return u32txLen;                                                            /* Return bytes length that have been transmitted */
0000b6  4620              MOV      r0,r4
;;;1089   }
0000b8  b004              ADD      sp,sp,#0x10
0000ba  bdf0              POP      {r4-r7,pc}
;;;1090   
                          ENDP


;*** Start embedded assembler ***

#line 1 "..\\..\\..\\..\\Library\\StdDriver\\src\\usci_i2c.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___10_usci_i2c_c_c16bae74____REV16|
#line 464 "..\\..\\..\\..\\Library\\CMSIS\\Include\\cmsis_armcc.h"
|__asm___10_usci_i2c_c_c16bae74____REV16| PROC
#line 465

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___10_usci_i2c_c_c16bae74____REVSH|
#line 479
|__asm___10_usci_i2c_c_c16bae74____REVSH| PROC
#line 480

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
